(function(A){function e(e){for(var a,n,s=e[0],o=e[1],c=e[2],d=0,l=[];d<s.length;d++)n=s[d],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&l.push(r[n][0]),r[n]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(A[a]=o[a]);u&&u(e);while(l.length)l.shift()();return i.push.apply(i,c||[]),t()}function t(){for(var A,e=0;e<i.length;e++){for(var t=i[e],a=!0,n=1;n<t.length;n++){var s=t[n];0!==r[s]&&(a=!1)}a&&(i.splice(e--,1),A=o(o.s=t[0]))}return A}var a={},n={app:0},r={app:0},i=[];function s(A){return o.p+"js/"+({}[A]||A)+"."+{"chunk-2d0d0836":"7f8372d1","chunk-2d0e2131":"6d5bb863","chunk-2d0e5b37":"993d895c","chunk-2d20feb8":"66fe39a2","chunk-3ab32ac3":"6fb0a941","chunk-9b3d9fdc":"27b7f0a2","chunk-b15792f0":"9c166be1","chunk-c3145c2c":"f1ad6dd6"}[A]+".js"}function o(e){if(a[e])return a[e].exports;var t=a[e]={i:e,l:!1,exports:{}};return A[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}o.e=function(A){var e=[],t={"chunk-3ab32ac3":1,"chunk-9b3d9fdc":1,"chunk-b15792f0":1,"chunk-c3145c2c":1};n[A]?e.push(n[A]):0!==n[A]&&t[A]&&e.push(n[A]=new Promise((function(e,t){for(var a="css/"+({}[A]||A)+"."+{"chunk-2d0d0836":"31d6cfe0","chunk-2d0e2131":"31d6cfe0","chunk-2d0e5b37":"31d6cfe0","chunk-2d20feb8":"31d6cfe0","chunk-3ab32ac3":"abec50ba","chunk-9b3d9fdc":"0fdd9cdd","chunk-b15792f0":"792da114","chunk-c3145c2c":"5f3533b3"}[A]+".css",r=o.p+a,i=document.getElementsByTagName("link"),s=0;s<i.length;s++){var c=i[s],d=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(d===a||d===r))return e()}var l=document.getElementsByTagName("style");for(s=0;s<l.length;s++){c=l[s],d=c.getAttribute("data-href");if(d===a||d===r)return e()}var u=document.createElement("link");u.rel="stylesheet",u.type="text/css",u.onload=e,u.onerror=function(e){var a=e&&e.target&&e.target.src||r,i=new Error("Loading CSS chunk "+A+" failed.\n("+a+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=a,delete n[A],u.parentNode.removeChild(u),t(i)},u.href=r;var p=document.getElementsByTagName("head")[0];p.appendChild(u)})).then((function(){n[A]=0})));var a=r[A];if(0!==a)if(a)e.push(a[2]);else{var i=new Promise((function(e,t){a=r[A]=[e,t]}));e.push(a[2]=i);var c,d=document.createElement("script");d.charset="utf-8",d.timeout=120,o.nc&&d.setAttribute("nonce",o.nc),d.src=s(A);var l=new Error;c=function(e){d.onerror=d.onload=null,clearTimeout(u);var t=r[A];if(0!==t){if(t){var a=e&&("load"===e.type?"missing":e.type),n=e&&e.target&&e.target.src;l.message="Loading chunk "+A+" failed.\n("+a+": "+n+")",l.name="ChunkLoadError",l.type=a,l.request=n,t[1](l)}r[A]=void 0}};var u=setTimeout((function(){c({type:"timeout",target:d})}),12e4);d.onerror=d.onload=c,document.head.appendChild(d)}return Promise.all(e)},o.m=A,o.c=a,o.d=function(A,e,t){o.o(A,e)||Object.defineProperty(A,e,{enumerable:!0,get:t})},o.r=function(A){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(A,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(A,"__esModule",{value:!0})},o.t=function(A,e){if(1&e&&(A=o(A)),8&e)return A;if(4&e&&"object"===typeof A&&A&&A.__esModule)return A;var t=Object.create(null);if(o.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:A}),2&e&&"string"!=typeof A)for(var a in A)o.d(t,a,function(e){return A[e]}.bind(null,a));return t},o.n=function(A){var e=A&&A.__esModule?function(){return A["default"]}:function(){return A};return o.d(e,"a",e),e},o.o=function(A,e){return Object.prototype.hasOwnProperty.call(A,e)},o.p="/",o.oe=function(A){throw console.error(A),A};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],d=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=d;i.push([0,"chunk-vendors"]),t()})({0:function(A,e,t){A.exports=t("56d7")},"0a4f":function(A,e,t){},"0a63":function(A,e,t){"use strict";t("db15")},"17f9":function(A,e,t){"use strict";var a=t("c5fa");e["a"]={async fetchAllLedStripDevices(){const A=await Object(a["a"])().get("/api/v1/leds/devices");return A.data},async commandLedStripDeviceSolid(A,e){const t=await Object(a["a"])().post("/api/v1/leds/devices/"+A+"/command/solid",e);return t.data},async commandLedStripDeviceColorCycle(A){const e=await Object(a["a"])().post("/api/v1/leds/devices/"+A+"/command/colorcycle");return e.data},async commandLedStripDeviceChristmas(A){const e=await Object(a["a"])().post("/api/v1/leds/devices/"+A+"/command/christmas");return e.data},async commandLedStripDeviceBreathing(A,e){const t=await Object(a["a"])().post("/api/v1/leds/devices/"+A+"/command/breathing",e);return t.data}}},"1a69":function(A,e,t){"use strict";var a=t("c5fa");e["a"]={async wakeTapoDevice(A){const e=await Object(a["a"])().get("/api/v1/tapo/wake/"+A);return e.data},async fetchTapoDevice(A){const e=await Object(a["a"])().get("/api/v1/tapo/devices/"+A);return e.data},async deleteTapoDevice(A){const e=await Object(a["a"])().delete("/api/v1/tapo/devices/"+A);return e.data},async fetchAllTapoDevices(){const A=await Object(a["a"])().get("/api/v1/tapo/devices");return A.data},async commandDevice(A,e,t){const n=await Object(a["a"])().get("/api/v1/tapo/lights/"+A+"?command="+e+"&brightness="+t);return n.data},async turnOnDevice(A){return await this.commandDevice(A,"on",100)},async turnOffDevice(A){return await this.commandDevice(A,"off",1)},async setDeviceBrightness(A,e){return await this.commandDevice(A,"on",e)}}},4352:function(A,e,t){A.exports=t.p+"img/led_strip_icon.fb10e610.png"},4360:function(A,e,t){"use strict";var a=t("2b0e"),n=t("2f62"),r=t("d210"),i={namespaced:!0,state:{loading:!1,error:null,devices:[]},mutations:{REQUEST(A){A.loading=!0,A.error=null},SUCCESS(A,e){A.loading=!1,A.devices=e},FAILED(A,e){A.loading=!1,A.error=e}},getters:{devices:A=>A.devices.filter(A=>A.status)},actions:{async fetchDevices({commit:A}){A("REQUEST");try{const e=await r["a"].fetchDevices();A("SUCCESS",e.devices)}catch(e){throw A("FAILED",e.message),e}},async addNewDevice({commit:A},e){A("REQUEST");try{await r["a"].addNewDevice(e)}catch(t){throw A("FAILED",t.message),t}}}},s=t("1a69"),o={namespaced:!0,state:{loading:!1,error:null,tapoDevice:null,tapoDevices:[],devs:{}},mutations:{REQUEST(A){A.loading=!0,A.error=null},WAKE_DEVICE(){},TAPO_DEVICE_LOADED(A,e){A.loading=!1,A.tapoDevice=e},TAPO_DEVICES_LOADED(A,e){A.loading=!1,A.tapoDevices=e},FAILED(A,e){A.loading=!1,A.error=e},DEV_LOADED(A,e){A.loading=!1,A.devs[e.device_id]=e}},getters:{tapoDevice:A=>A.tapoDevice},actions:{async fetchTapoDevice({commit:A},e){A("REQUEST");try{const t=await s["a"].fetchTapoDevice(e);A("TAPO_DEVICE_LOADED",t.device),A("DEV_LOADED",t.device)}catch(t){throw A("FAILED",t.message),t}},async fetchTapoDevices({commit:A}){A("REQUEST");try{const e=await s["a"].fetchAllTapoDevices();A("TAPO_DEVICES_LOADED",e.devices)}catch(e){throw A("FAILED",e.message),e}}}},c=(t("b7ef"),t("c5fa")),d={async login(A,e){const t=await Object(c["a"])().post("/auth/login",{username:A,password:e}).catch(()=>null);return t},async refreshToken(A){const e=await Object(c["a"])().get("/auth/refresh?refresh-token="+A).catch(()=>null);return e}},l={namespaced:!0,modules:{},state:{authorization_token:localStorage.getItem("authorization_token")||null,refresh_token:localStorage.getItem("refresh_token")||null,username:localStorage.getItem("username")||null,userid:localStorage.getItem("userid")||null,user:null,error:null},mutations:{SET_AUTHORIZATION_TOKEN(A,e){A.authorization_token=e},SET_REFRESH_TOKEN(A,e){A.refresh_token=e},SET_USERNAME(A,e){A.username=e},SET_ID(A,e){A.userid=e},CLEAR_ERROR(A){A.error=null},CLEAR_ALL(A){A.authorization_token=null,A.refresh_token=null,A.id=null,A.user=null,A.username=null}},actions:{async login({commit:A},{username:e,password:t}){A("CLEAR_ERROR");const a=await d.login(e,t);if(200===a.status){const{username:e,user_id:t,authorization_token:n,refresh_token:r}=a.data;return localStorage.setItem("authorization_token",n),localStorage.setItem("refresh_token",r),localStorage.setItem("username",e),localStorage.setItem("userid",t),A("SET_USERNAME",e),A("SET_AUTHORIZATION_TOKEN",n),A("SET_REFRESH_TOKEN",r),A("SET_ID",t),!0}return!1},async logout({commit:A}){localStorage.removeItem("authorization_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("username"),localStorage.removeItem("userid"),A("CLEAR_ALL"),A("CLEAR_ERROR")},async refreshToken({commit:A},{token:e}){const t=await d.refreshToken(e),{authorization_token:a,refresh_token:n}=t.data;localStorage.setItem("authorization_token",a),localStorage.setItem("refresh_token",n),A("SET_AUTHORIZATION_TOKEN",a),A("SET_REFRESH_TOKEN",n)}},getters:{isLoggedIn:A=>{if(null==A.authorization_token)return!1;const e=A=>{try{return JSON.parse(atob(A.split(".")[1]))}catch(e){return null}};let t=e(A.authorization_token);return null!=t&&t.exp>Math.floor(Date.now()/1e3)},getBearerToken:A=>A.authorization_token,getRefreshToken:A=>A.refresh_token}};a["default"].use(n["a"]);e["a"]=new n["a"].Store({state:{},mutations:{},actions:{},modules:{devices:i,tapo:o,auth:l}})},"50fa":function(A,e,t){A.exports=t.p+"img/ikea_remote_control.1763b878.png"},"56d7":function(A,e,t){"use strict";t.r(e);var a=t("2b0e"),n=function(){var A=this,e=A._self._c;return e("div",{style:{backgroundImage:A.createBackgroundString},attrs:{id:"app"}},[e("SideBar"),e("app-toolbar",{staticClass:"mb2"}),e("b-container",{staticClass:"content"},[e("router-view")],1)],1)},r=[],i=function(){var A=this,e=A._self._c;return e("b-navbar",{staticStyle:{"background-color":"rgba(255, 255, 255, 0.25)","backdrop-filter":"blur(5px)"},attrs:{sticky:!0,toggleable:"lg",type:"light"}},[e("b-container",[e("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.sidebar-1",modifiers:{"sidebar-1":!0}}]},[A._v("Toggle Sidebar")]),e("b-navbar-toggle",{attrs:{target:"nav_collapse"}}),e("b-collapse",{attrs:{"is-nav":"",id:"nav_collapse"}},[e("b-navbar-nav",[e("b-nav-item",{attrs:{href:"#",to:"/",exact:""}},[A._v("Home")]),e("b-nav-item",{attrs:{href:"#",to:"/routines",exact:""}},[A._v("Routines")]),e("b-nav-item",{attrs:{href:"#",to:"/sensors",exact:""}},[A._v("Sensors")]),e("b-nav-item",{attrs:{href:"#",to:"/recipes",exact:""}},[A._v("Recipes")]),e("b-nav-item",{attrs:{href:"#",to:"/inventory",exact:""}},[A._v("Inventory")]),e("b-nav-item",{attrs:{href:"#",to:"/cameras",exact:""}},[A._v("Cameras")])],1),e("b-navbar-nav",{staticClass:"ml-auto"},[e("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{pill:"",img:"./assets/add.png",variant:"primary",title:"Click here to add a new"},on:{click:A.onClickAdd}},[e("img",{attrs:{src:t("d1da"),width:"25",height:"25"}})]),A.isLoggedIn?e("b-nav-item-dropdown",{attrs:{right:""}},[e("template",{slot:"button-content"},[A._v(A._s(A.username))]),e("b-dropdown-item",{on:{click:A.logout}},[A._v("Signout")])],2):A._e()],1)],1)],1),e("add-device-modal",{ref:"deviceModal"}),e("add-routine-modal",{ref:"routineModal"}),e("add-sensor-modal",{ref:"sensorModal"}),e("add-recipe-modal",{ref:"recipeModal"})],1)},s=[],o=function(){var A=this,e=A._self._c;return e("b-modal",{ref:"deviceModal",attrs:{size:"xl",id:"deviceModal"},on:{ok:A.handleOk,cancel:A.handleCancel,close:A.handleCancel}},[e("b-form-group",[e("b-input-group",[e("b-container",{attrs:{fluid:""}},[e("b-row",{staticClass:"my-1"},[e("b-col",{attrs:{sm:"4"}},[e("label",[A._v("Device Type:")])]),e("b-col",{attrs:{sm:"8"}},[e("b-form-select",{attrs:{options:A.device_type_options},model:{value:A.device_type,callback:function(e){A.device_type=e},expression:"device_type"}})],1)],1)],1)],1),A.isTapoDevice()?e("div",[e("b-input-group",[e("b-container",{attrs:{fluid:""}},[e("b-row",{staticClass:"my-1"},[e("b-col",{attrs:{sm:"4"}},[e("label",[A._v("IP Address:")])]),e("b-col",{attrs:{sm:"8"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:A.newItem.ip,expression:"newItem.ip"}],staticClass:"mx-1",attrs:{size:"sm",placeholder:"ip address"},domProps:{value:A.newItem.ip},on:{input:function(e){e.target.composing||A.$set(A.newItem,"ip",e.target.value)}}})])],1)],1)],1),e("b-input-group",[e("b-container",{attrs:{fluid:""}},[e("b-row",{staticClass:"my-1"},[e("b-col",{attrs:{sm:"4"}},[e("label",[A._v("Email:")])]),e("b-col",{attrs:{sm:"8"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:A.newItem.email,expression:"newItem.email"}],staticClass:"mx-1",attrs:{size:"sm",placeholder:"email"},domProps:{value:A.newItem.email},on:{input:function(e){e.target.composing||A.$set(A.newItem,"email",e.target.value)}}})])],1)],1)],1),e("b-input-group",[e("b-container",{attrs:{fluid:""}},[e("b-row",{staticClass:"my-1"},[e("b-col",{attrs:{sm:"4"}},[e("label",[A._v("Password:")])]),e("b-col",{attrs:{sm:"8"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:A.newItem.password,expression:"newItem.password"}],staticClass:"mx-1",attrs:{type:"password",size:"sm",placeholder:"password"},domProps:{value:A.newItem.password},on:{input:function(e){e.target.composing||A.$set(A.newItem,"password",e.target.value)}}})])],1)],1)],1)],1):A._e(),A.isLEDStripDevice()?e("div",[e("b-input-group",[e("b-container",{attrs:{fluid:""}},[e("b-row",{staticClass:"my-1"},[e("b-col",{attrs:{sm:"4"}},[e("label",[A._v("IP Address:")])]),e("b-col",{attrs:{sm:"8"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:A.newItem.ip,expression:"newItem.ip"}],staticClass:"mx-1",attrs:{size:"sm",placeholder:"ip address"},domProps:{value:A.newItem.ip},on:{input:function(e){e.target.composing||A.$set(A.newItem,"ip",e.target.value)}}})])],1)],1)],1)],1):A._e()],1)],1)},c=[],d=t("2f62"),l={name:"AddDeviceModal",data:()=>({device_type:"",newItem:{ip:"",email:"",password:"",device_type:""},device_type_options:[{value:"L510E",text:"L510E"},{value:"P100",text:"P100"},{value:"LED_STRIP",text:"LED Strip"}]}),computed:{...Object(d["d"])("devices",{devices:A=>A.devices})},methods:{...Object(d["b"])("devices",["addNewDevice"]),isTapoDevice(){return"L510E"===this.device_type||"P100"===this.device_type},isLEDStripDevice(){return"LED_STRIP"===this.device_type},handleOk(A){A.preventDefault(),this.handleSubmit()},handleCancel(){},async handleSubmit(){let A={};this.isTapoDevice()?A={device_type:"tapo",data:{ip_address:this.newItem.ip,email:this.newItem.email,password:this.newItem.password,device_type:this.device_type}}:this.isLEDStripDevice()&&(A={device_type:"LED_STRIP",data:{ip_address:this.newItem.ip}}),await this.addNewDevice(A),this.device_type="",this.newItem.ip="",this.newItem.email="",this.newItem.password="",this.newItem.device_type="",this.$nextTick(()=>{this.$refs.deviceModal.hide()})}},created(){this.$on("add_device",()=>{this.$refs.deviceModal.show()})}},u=l,p=t("2877"),m=Object(p["a"])(u,o,c,!1,null,"850c0952",null),h=m.exports,g=function(){var A=this,e=A._self._c;return e("b-modal",{ref:"recipeModal",attrs:{size:"xl",id:"recipeModal"},on:{ok:A.handleOk,cancel:A.handleCancel,close:A.handleCancel}},[e("b-row",[e("div",[e("p",[A._v("Recipe:")])])]),e("b-form-group",[e("b-input-group",[e("b-container",{attrs:{fluid:""}},[e("b-row",{staticClass:"my-1"},[e("b-col",{attrs:{sm:"4"}},[e("label",[A._v("Name:")])]),e("b-col",{attrs:{sm:"8"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:A.recipe.name,expression:"recipe.name"}],staticClass:"mx-1",attrs:{size:"sm",placeholder:"Recipe Name"},domProps:{value:A.recipe.name},on:{input:function(e){e.target.composing||A.$set(A.recipe,"name",e.target.value)}}})])],1)],1)],1)],1),e("b-form-group",[e("b-input-group",[e("b-container",{attrs:{fluid:""}},[e("b-row",{staticClass:"my-1"},[e("b-col",{attrs:{sm:"4"}},[e("label",[A._v("Image Source:")])]),e("b-col",{attrs:{sm:"8"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:A.recipe.img,expression:"recipe.img"}],staticClass:"mx-1",attrs:{size:"sm",placeholder:"http://..."},domProps:{value:A.recipe.img},on:{input:function(e){e.target.composing||A.$set(A.recipe,"img",e.target.value)}}})])],1)],1)],1)],1),e("b-row",[e("div",[e("p",[A._v("Ingredients:")])])]),A._l(A.recipe.ingredients,(function(t,a){return e("b-row",{key:"ingredients"+a},[e("b-input-group",[e("b-container",{attrs:{fluid:""}},[e("b-row",{staticClass:"my-1"},[e("b-col",{attrs:{sm:"4"}},[e("label",[A._v("Ingredient name:")])]),e("b-col",{attrs:{sm:"8"}},[e("b-form-input",{staticClass:"mx-1",attrs:{size:"sm",placeholder:"name"},model:{value:t.name,callback:function(e){A.$set(t,"name",e)},expression:"ingredient.name"}})],1)],1)],1)],1),e("b-input-group",[e("b-container",{attrs:{fluid:""}},[e("b-row",{staticClass:"my-1"},[e("b-col",{attrs:{sm:"4"}},[e("label",[A._v("Ingredient amount:")])]),e("b-col",{attrs:{sm:"8"}},[e("b-form-input",{staticClass:"mx-1",attrs:{size:"sm",placeholder:"amount"},model:{value:t.amount,callback:function(e){A.$set(t,"amount",e)},expression:"ingredient.amount"}})],1)],1)],1)],1)],1)})),e("b-button",{attrs:{variant:"success"},on:{click:A.increaseIngredients}},[A._v("+")]),e("b-button",{attrs:{variant:"danger"},on:{click:A.decreaseIngredients}},[A._v("-")]),e("b-row",[e("div",[e("p",[A._v("Steps:")])])]),A._l(A.recipe.steps,(function(t,a){return e("b-row",{key:"steps-"+a},[e("b-input-group",[e("b-container",{attrs:{fluid:""}},[e("b-row",{staticClass:"my-1"},[e("b-col",{attrs:{sm:"4"}},[e("label",[A._v("Instruction:")])]),e("b-col",{attrs:{sm:"8"}},[e("b-form-input",{staticClass:"mx-1",attrs:{size:"sm",placeholder:"instruction"},model:{value:t.instruction,callback:function(e){A.$set(t,"instruction",e)},expression:"step.instruction"}})],1)],1)],1)],1)],1)})),e("b-button",{attrs:{variant:"success"},on:{click:A.increaseSteps}},[A._v("+")]),e("b-button",{attrs:{variant:"danger"},on:{click:A.decreaseSteps}},[A._v("-")])],2)},v=[],b=(t("14d9"),t("be85")),f={name:"AddRecipeModal",data(){return{recipe:{name:"",img:"",ingredients:[{name:"",amount:""}],steps:[{instruction:""}]}}},methods:{increaseSteps(){this.recipe.steps.push({instruction:""})},decreaseSteps(){this.recipe.steps.pop()},increaseIngredients(){this.recipe.ingredients.push({name:"",amount:""})},decreaseIngredients(){this.recipe.ingredients.pop()},handleOk(A){A.preventDefault(),this.handleSubmit()},handleCancel(){},async handleSubmit(){await b["a"].addRecipe(this.recipe),this.recipe={name:"",img:"",ingredients:[{name:"",amount:""}],steps:[{instruction:""}]},this.$nextTick(()=>{this.$refs.recipeModal.hide()})}},created(){this.$on("add_recipe",()=>{this.$refs.recipeModal.show()})}},_=f,y=Object(p["a"])(_,g,v,!1,null,"5adbad54",null),E=y.exports,I=function(){var A=this,e=A._self._c;return e("b-modal",{ref:"routineModal",attrs:{size:"xl",id:"routineModal"},on:{ok:A.handleOk,cancel:A.handleCancel,close:A.handleCancel}},[e("b-row",[e("div",[e("p",[A._v("Routine:")])])]),e("b-form-group",[e("b-input-group",[e("b-container",{attrs:{fluid:""}},[e("b-row",{staticClass:"my-1"},[e("b-col",{attrs:{sm:"4"}},[e("label",[A._v("Name:")])]),e("b-col",{attrs:{sm:"8"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:A.routine.name,expression:"routine.name"}],staticClass:"mx-1",attrs:{size:"sm",placeholder:"Routine Name"},domProps:{value:A.routine.name},on:{input:function(e){e.target.composing||A.$set(A.routine,"name",e.target.value)}}})]),e("b-col",{attrs:{sm:"4"}},[e("label",[A._v("Trigger Type:")])]),e("b-col",{attrs:{sm:"8"}},[e("b-form-select",{attrs:{options:A.trigger_type_options},model:{value:A.chosen_trigger_type,callback:function(e){A.chosen_trigger_type=e},expression:"chosen_trigger_type"}})],1),A.isTimerTriggerType()?e("div",[e("b-input-group",[e("b-container",{attrs:{fluid:""}},[e("b-row",{staticClass:"my-1"},[e("b-col",{attrs:{sm:"4"}},[e("label",[A._v("Schedule:")])]),e("b-col",[e("input",{directives:[{name:"model",rawName:"v-model",value:A.routine.trigger.cron_expr,expression:"routine.trigger.cron_expr"}],staticClass:"mx-1",attrs:{size:"sm",placeholder:"Cron expr"},domProps:{value:A.routine.trigger.cron_expr},on:{input:function(e){e.target.composing||A.$set(A.routine.trigger,"cron_expr",e.target.value)}}})])],1)],1)],1)],1):A._e(),A.isEventTriggerType()?e("div",[e("b-input-group",[e("b-container",{attrs:{fluid:""}},[e("b-row",{staticClass:"my-1"},[e("b-col",{attrs:{sm:"4"}},[e("label",[A._v("Event:")])]),e("b-col",[e("input",{directives:[{name:"model",rawName:"v-model",value:A.routine.trigger.on_event,expression:"routine.trigger.on_event"}],staticClass:"mx-1",attrs:{size:"sm",placeholder:"ON_EVENT_NAME"},domProps:{value:A.routine.trigger.on_event},on:{input:function(e){e.target.composing||A.$set(A.routine.trigger,"on_event",e.target.value)}}})])],1)],1)],1)],1):A._e()],1),e("b-row",[e("div",[e("p",[A._v("Actions:")])])]),A._l(A.routine.actions,(function(t,a){return e("b-row",{key:"action-"+a},[e("b-input-group",[e("b-col",{attrs:{sm:"4"}},[e("label",[A._v("Device:")])]),e("b-col",{attrs:{sm:"8"}},[e("b-form-select",{attrs:{options:A.computedDevices},model:{value:t.deviceId,callback:function(e){A.$set(t,"deviceId",e)},expression:"action.deviceId"}}),""!==t.deviceId?e("div",[A._v(" Available methods: "),e("div",[A._l(A.computeMethodsForDevice(t.deviceId),(function(n){return e("div",{key:a+n.key},[e("b-button",{attrs:{variant:"outline-success"},on:{click:function(e){return A.selectMethodForAction(t.deviceId,n)}}},[A._v(" "+A._s(n.name)+" ")])],1)})),""!==t.name?e("span",[A._v("Selected: "),e("strong",[A._v(A._s(t.name))])]):A._e(),e("span",[A._v(A._s(t.deviceId))])],2)]):A._e()],1)],1),e("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-2",modifiers:{"collapse-2":!0}}],staticClass:"m-1"},[A._v("Advanced")]),e("b-collapse",{attrs:{id:"collapse-2"}},[e("b-input-group",[e("b-container",{attrs:{fluid:""}},[e("b-row",{staticClass:"my-1"},[e("b-col",{attrs:{sm:"4"}},[e("label",[A._v("Action Addr:")])]),e("b-col",{attrs:{sm:"8"}},[e("b-form-input",{staticClass:"mx-1",attrs:{size:"sm",placeholder:"url"},model:{value:t.addr,callback:function(e){A.$set(t,"addr",e)},expression:"action.addr"}})],1)],1)],1)],1),e("b-input-group",[e("b-container",{attrs:{fluid:""}},[e("b-row",{staticClass:"my-1"},[e("b-col",{attrs:{sm:"4"}},[e("label",[A._v("Action Method:")])]),e("b-col",{attrs:{sm:"8"}},[e("b-form-input",{staticClass:"mx-1",attrs:{size:"sm",placeholder:"method"},model:{value:t.method,callback:function(e){A.$set(t,"method",e)},expression:"action.method"}})],1)],1)],1)],1),e("b-input-group",[e("b-container",{attrs:{fluid:""}},[e("b-row",{staticClass:"my-1"},[e("b-col",{attrs:{sm:"4"}},[e("label",[A._v("Action Data:")])]),e("b-col",{attrs:{sm:"8"}},[e("v-jsoneditor",{attrs:{options:A.jsonEditorOptions,plus:!1,height:"300"},on:{error:A.onError},model:{value:t.data,callback:function(e){A.$set(t,"data",e)},expression:"action.data"}})],1)],1)],1)],1),e("b-input-group",[e("b-container",{attrs:{fluid:""}},[e("b-row",{staticClass:"my-1"},[e("b-col",{attrs:{sm:"4"}},[e("label",[A._v("Action Script:")])]),e("b-col",{attrs:{sm:"8"}},[e("codemirror",{attrs:{options:A.cmOptions},model:{value:t.script,callback:function(e){A.$set(t,"script",e)},expression:"action.script"}})],1)],1)],1)],1)],1)],1)})),e("b-button",{attrs:{variant:"success"},on:{click:A.increaseActions}},[A._v("+")]),e("b-button",{attrs:{variant:"danger"},on:{click:A.decreaseActions}},[A._v("-")])],2)],1)],1)],1)},C=[],w=t("27f7"),k=t("a1d2"),B=t("d210"),S=t("8f94"),D=(t("f9d4"),t("8c2e"),t("a7be"),{name:"AddRoutineModal",components:{VJsoneditor:w["a"],codemirror:S["codemirror"]},data(){return{devices:[],cmOptions:{tabSize:4,mode:"text/javascript",theme:"base16-dark",lineNumbers:!0,line:!0},jsonEditorOptions:{mode:"code"},chosen_trigger_type:-1,trigger_type_options:[{value:0,text:"TimerTriggerType"},{value:1,text:"EventTriggerType"}],routine:{name:"",trigger:{type:-1,cron_expr:"",on_event:""},actions:[{name:"",deviceId:"",addr:"",method:"",data:null,script:""}]}}},methods:{onError(){},isTimerTriggerType(){return 0===this.chosen_trigger_type},isEventTriggerType(){return 1===this.chosen_trigger_type},increaseActions(){this.routine.actions.push({addr:"",method:"",data:null,script:""})},decreaseActions(){this.routine.actions.pop()},handleOk(){this.handleSubmit()},selectMethodForAction(A,e){this.routine.actions.forEach(t=>{t.deviceId===A&&(t.addr=e.addr,t.method=e.method,t.data=e.data,t.name=e.name)})},computeMethodsForDevice(A){let e=[];if(!A)return e;let t=this.devices.find(e=>e.id===A);return t?("IKEA"===t.product.company?"light"===t.product.type&&(e.push({pressed:!1,deviceId:A,key:A+"-turnoff",name:"Turn Off",addr:`http://tradfri.default.svc.cluster.local/tradfri/devices/${A}/command`,method:"POST",data:{device_type:"light",dimmable_light_command:{power:0}}}),e.push({pressed:!1,deviceId:A,key:A+"-turnon",name:"Turn On",addr:`http://tradfri.default.svc.cluster.local/tradfri/devices/${A}/command`,method:"POST",data:{device_type:"light",dimmable_light_command:{power:1}}}),e.push({pressed:!1,deviceId:A,key:A+"-dimm",name:"Dimm",addr:`http://tradfri.default.svc.cluster.local/tradfri/devices/${A}/command`,method:"POST",data:{device_type:"light",dimmable_light_command:{power:1,brightness:127}}})):"esp32"===t.product.company?"led-strip"===t.category&&(e.push({pressed:!1,deviceId:A,key:A+"-setcolor",name:"Set Color",addr:"",method:"",data:{},optional:{r:0,g:0,b:0}}),e.push({pressed:!1,deviceId:A,key:A+"-setcolorcycle",name:"Set Colorcycle",addr:"",method:"",data:{}}),e.push({pressed:!1,deviceId:A,key:A+"-setbreathing",name:"Set Breathing",addr:"",method:"",data:{},optional:{r:0,g:0,b:0}})):"tp-link"===t.product.company&&("light"===t.category&&"L510E"===t.product.type?(e.push({pressed:!1,deviceId:A,key:A+"-turnoff",name:"Turn Off",addr:`http://tapo.default.svc.cluster.local/tapo/lights/${A}?command=off&brightness=1`,method:"GET",data:null}),e.push({pressed:!1,deviceId:A,key:A+"-turnon",name:"Turn On",addr:`http://tapo.default.svc.cluster.local/tapo/lights/${A}?command=on&brightness=100`,method:"GET",data:null}),e.push({pressed:!1,deviceId:A,key:A+"-dimm",name:"Dimm",addr:`http://tapo.default.svc.cluster.local/tapo/lights/${A}?command=on&brightness=50`,method:"GET",data:null,optional:{brightness:0}})):"plug"===t.category&&"P100"===t.product.type&&(e.push({pressed:!1,deviceId:A,key:A+"-turnoff",name:"Turn Off",addr:`http://tapo.default.svc.cluster.local/tapo/lights/${A}?command=off&brightness=1`,method:"GET",data:null}),e.push({pressed:!1,deviceId:A,key:A+"-turnon",name:"Turn On",addr:`http://tapo.default.svc.cluster.local/tapo/lights/${A}?command=on&brightness=100`,method:"GET",data:null}))),e):e},handleCancel(){},async handleSubmit(){this.routine.trigger.type=this.chosen_trigger_type,this.chosen_trigger_type=-1,await k["a"].addRoutine(this.routine),this.routine={trigger:{type:-1,cron_expr:"",on_event:""},actions:[{script:"",addr:"",method:"",data:null}]},this.$nextTick(()=>{this.$refs.routineModal.hide()})}},computed:{computedDevices(){let A=[];return this.devices.forEach(e=>{A.push({value:e.id,text:`${e.product.company} - ${e.category} -  ${e.name}`})}),A}},async created(){this.devices=(await B["a"].fetchDevices()).devices,console.log(this.devices),this.$on("add_routine",()=>{this.$refs.routineModal.show()})}}),x=D,O=Object(p["a"])(x,I,C,!1,null,"37f35ef7",null),T=O.exports,Q=function(){var A=this,e=A._self._c;return e("b-modal",{ref:"sensorModal",attrs:{size:"xl",id:"sensorModal"},on:{ok:A.handleOk,cancel:A.handleCancel,close:A.handleCancel}},[e("p",[A._v("Hello Sensor modal")])])},R=[],L={name:"AddSensorModal",methods:{handleOk(){},handleCancel(){},handleSubmit(){this.$nextTick(()=>{this.$refs.sensorModal.hide()})}},created(){this.$on("add_sensor",()=>{this.$refs.sensorModal.show()})}},j=L,$=Object(p["a"])(j,Q,R,!1,null,"3eb1fc58",null),M=$.exports,N={name:"app-toolbar",data(){return{}},components:{AddRecipeModal:E,AddDeviceModal:h,AddRoutineModal:T,AddSensorModal:M},computed:{...Object(d["d"])("auth",["username"]),...Object(d["c"])("auth",["isLoggedIn"])},methods:{...Object(d["b"])("auth",["logout"]),getAddButtonHint(){return"test"},onClickAdd(){switch(this.$route.name){case"Home":this.$refs.deviceModal.$emit("add_device");break;case"Recipes":this.$refs.recipeModal.$emit("add_recipe");break;case"Routines":this.$refs.routineModal.$emit("add_routine");break;case"Sensors":this.$refs.sensorModal.$emit("add_sensor");break}}}},P=N,z=Object(p["a"])(P,i,s,!1,null,null,null),U=z.exports,V=function(){var A=this,e=A._self._c;return e("div",[e("b-sidebar",{attrs:{id:"sidebar-1","bg-variant":"dark","text-variant":"light"}},[e("div",[e("b-button",{staticClass:"nav-button",attrs:{href:"#",to:"/"}},[A._v("Home")]),e("b-button",{staticClass:"nav-button",attrs:{href:"#",to:"/routines"}},[A._v("Routines")]),e("b-button",{staticClass:"nav-button",attrs:{href:"#",to:"/sensors"}},[A._v("Sensors")]),e("b-button",{staticClass:"nav-button",attrs:{href:"#",to:"/recipes"}},[A._v("Recipes")]),e("b-button",{staticClass:"nav-button",attrs:{href:"#",to:"/inventory"}},[A._v("Inventory")]),e("b-button",{staticClass:"nav-button",attrs:{href:"#",to:"/cameras"}},[A._v("Cameras")])],1)])],1)},H=[],F={name:"SideBar"},G=F,q=(t("8075"),Object(p["a"])(G,V,H,!1,null,"50a149e1",null)),K=q.exports,J={name:"app",components:{AppToolbar:U,SideBar:K},data(){return{angle:"50",color1:"#304352",color2:"#d7d2cc"}},computed:{createBackgroundString(){return`linear-gradient(${this.angle}deg, ${this.color1}, ${this.color2})`}}},Z=J,W=(t("9a29"),Object(p["a"])(Z,n,r,!1,null,null,null)),Y=W.exports,X=t("8c4f"),AA=function(){var A=this,e=A._self._c;return A.devices.length>0?e("div",[e("br"),e("input",{directives:[{name:"model",rawName:"v-model",value:A.searchInput,expression:"searchInput"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Search","aria-label":"Search"},domProps:{value:A.searchInput},on:{input:function(e){e.target.composing||(A.searchInput=e.target.value)}}}),A._l(A.groups,(function(t,a){return e("div",{key:a},[e("div",[e("h2",{staticStyle:{color:"rgba(255, 255, 255, 0.45)","text-align":"center","border-bottom":"1px solid rgba(255, 255, 255, 0.45)"}},[A._v(" "+A._s(a))]),A._l(t,(function(t){return e("div",{key:t.id,staticStyle:{display:"inline-block","margin-left":".95%","margin-right":".95%"}},[e("app-card",{attrs:{height:10,name:t.name,category:t.category,company:t.product.company,device_type:t.product.type,img:A.getImgUrl(t),id:t.id}})],1)}))],2)])}))],2):A._e()},eA=[],tA=function(){var A=this,e=A._self._c;return"loaded"===this.state?e("div",[null!==this.dev?e("div",[e("b-card",{staticClass:"mb-2",staticStyle:{"max-width":"200px","min-width":"200px","min-height":"550px","max-height":"550px","background-color":"rgba(255, 255, 255, 0.25)","backdrop-filter":"blur(5px)"},attrs:{title:A.name}},["RGB_LED_STRIP"===A.device_type?e("div",{attrs:{align:"center"}},[e("color-picker",{attrs:{width:130,height:130},on:{"color-change":A.onRGBClick},model:{value:A.color,callback:function(e){A.color=e},expression:"color"}})],1):e("div",[e("b-card-img",{staticClass:"mb-4",attrs:{src:A.img,alt:"Image",height:"130",width:"130"}})],1),e("p",[A._v(A._s(A.category))]),e("p",[A._v(A._s(A.company)+" : "+A._s(A.device_type))]),"tp-link"===A.company?e("div",[e("toggle-button",{on:{change:A.onChangeEventHandler},model:{value:A.device_on,callback:function(e){A.device_on=e},expression:"device_on"}}),"L510E"===A.device_type?e("input",{directives:[{name:"model",rawName:"v-model",value:A.brightness,expression:"brightness"}],attrs:{type:"range",min:"1",max:"100"},domProps:{value:A.brightness},on:{change:function(e){return A.brightnessChanged()},__r:function(e){A.brightness=e.target.value}}}):A._e(),e("p",[A._v(" Status: "+A._s(this.dev.device_info.device_on?"On":"Off")+" ")])],1):A._e(),"RGB_LED_STRIP"===A.device_type?e("div",[e("b-button",{attrs:{pill:"",center:""},on:{click:A.onRGBClickVerte}},[e("verte",{attrs:{picker:"wheel",model:"rgb"},model:{value:A.colorVerte,callback:function(e){A.colorVerte=e},expression:"colorVerte"}})],1),e("b-button",{attrs:{pill:"",center:""},on:{click:A.onColorCycleClick}},[A._v("Color Cycle")]),e("b-button",{attrs:{pill:"",center:""},on:{click:A.onChristmasClick}},[A._v("Christmas")]),e("b-button",{attrs:{pill:"",center:""},on:{click:A.onBreathingClick}},[A._v("Pulse")])],1):A._e(),"IKEA"===A.company?e("div",["2"===A.category?e("toggle-button",{on:{change:A.onChangeEventHandler},model:{value:A.device_on,callback:function(e){A.device_on=e},expression:"device_on"}}):A._e(),"2"===A.category?e("input",{directives:[{name:"model",rawName:"v-model",value:A.brightness,expression:"brightness"}],attrs:{type:"range",min:"0",max:"255"},domProps:{value:A.brightness},on:{change:function(e){return A.brightnessChanged()},__r:function(e){A.brightness=e.target.value}}}):A._e()],1):A._e(),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("b-button",{staticStyle:{"background-color":"#4287f5"},attrs:{to:A.navigate()}},[A._v("Information ")]),e("b-button",{attrs:{variant:"danger"},on:{click:function(e){return A.deleteDevice()}}},[A._v("X")])],1)])],1):e("div",[e("b-card",{staticClass:"mb-2",staticStyle:{"max-width":"200px","min-width":"200px","min-height":"500px","max-height":"500px","background-color":"rgba(255, 255, 255, 0.25)","backdrop-filter":"blur(5px)"},attrs:{title:A.name}},[e("b-card-img",{staticClass:"mb-4",attrs:{src:A.img,alt:"Image",height:"130",width:"130"}}),e("p",[A._v(A._s(A.category))]),e("p",[A._v(A._s(A.company)+" : "+A._s(A.device_type))]),e("div",{staticStyle:{color:"#ff0033"}},[A._v("Could not load this device. Check the backend")])],1)],1)]):e("div",{staticClass:"text-center"},[e("h3",[A._v("Loading results...")]),e("b-spinner",{staticStyle:{width:"3rem",height:"3rem"},attrs:{label:"Large Spinner"}})],1)},aA=[],nA=(t("e40d"),t("1e8a")),rA=t("36fc"),iA=(t("bbb4"),t("17f9")),sA=t("1a69"),oA=t("f206"),cA=t("c5fa"),dA={async fetchTradfriDevices(){const A=await Object(cA["a"])().get("/api/v1/tradfri/devices").catch(()=>null);return A.data},async fetchTradfriDevice(A){const e=await Object(cA["a"])().get("/api/v1/tradfri/devices/"+A).catch(()=>null);return e.data},async commandTradfriDevices(A){const e=await Object(cA["a"])().post("/api/v1/tradfri/devices/command",A).catch(()=>null);return e.data},async commandTradfriDevice(A,e){const t=await Object(cA["a"])().post("/api/v1/tradfri/devices/"+A+"/command",e).catch(()=>null);return t.data}},lA={name:"app-card",components:{ColorPicker:nA["a"],ToggleButton:oA["ToggleButton"],Verte:rA["a"]},props:{name:{type:String,default:""},img:{type:String,default:""},category:{type:String,default:""},company:{type:String,default:""},device_type:{type:String,default:""},id:{type:String,default:""}},data(){return{device_on:!1,brightness:100,state:"loading",colorPickerInitiated:!1,color:"#E17D0F",colorVerte:"",dev:{}}},methods:{onChangeEventHandler(A){!0===A.value?this.turnOnDevice():!1===A.value&&this.turnOffDevice()},navigate(){return"device/"+this.company+"/"+this.id},async turnOnDevice(){if("tp-link"===this.company){"L510E"===this.device_type?await sA["a"].setDeviceBrightness(this.id,this.brightness):await sA["a"].turnOnDevice(this.id);const A=await sA["a"].fetchTapoDevice(this.id);this.dev=A.device,this.device_on=this.dev.device_info.device_on}else"IKEA"===this.company&&await dA.commandTradfriDevice(this.id,{device_type:"light",dimmable_light_command:{power:1}})},onRGBClick(){if(!this.colorPickerInitiated)return void(this.colorPickerInitiated=!0);let A=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(this.color);A={r:parseInt(A[1],16),g:parseInt(A[2],16),b:parseInt(A[3],16)};let e={mode:"SINGLE_COLOR_RGB",red:A.r,green:A.g,blue:A.b};iA["a"].commandLedStripDeviceSolid(this.id,e)},onColorCycleClick(){iA["a"].commandLedStripDeviceColorCycle(this.id)},onChristmasClick(){iA["a"].commandLedStripDeviceChristmas(this.id)},onBreathingClick(){let A=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(this.color);A={r:parseInt(A[1],16),g:parseInt(A[2],16),b:parseInt(A[3],16)};let e={red:A.r,green:A.g,blue:A.b};iA["a"].commandLedStripDeviceBreathing(this.id,e)},onRGBClickVerte(){let A=(A,e,t)=>"#"+((1<<24)+(A<<16)+(e<<8)+t).toString(16).slice(1),e=this.colorVerte.replace(/[^\d,]/g,"").split(",");this.color=A(parseInt(e[0]),parseInt(e[1]),parseInt(e[2]))},async turnOffDevice(){if("tp-link"===this.company){await sA["a"].turnOffDevice(this.id);const A=await sA["a"].fetchTapoDevice(this.id);this.dev=A.device,this.device_on=this.dev.device_info.device_on}else"IKEA"===this.company&&await dA.commandTradfriDevice(this.id,{device_type:"light",dimmable_light_command:{power:0}})},async deleteDevice(){"tp-link"===this.company&&await sA["a"].deleteTapoDevice(this.id)},async brightnessChanged(){"tp-link"===this.company?await sA["a"].setDeviceBrightness(this.id,this.brightness):"IKEA"===this.company&&await dA.commandTradfriDevice(this.id,{device_type:"light",dimmable_light_command:{brightness:parseInt(this.brightness)}})}},async mounted(){if("tp-link"===this.company){const A=await sA["a"].fetchTapoDevice(this.id);"couldn't retrieve tapo device info\n"===A?this.dev=null:(this.dev=A.device,this.device_on=this.dev.device_info.device_on),this.state="loaded"}else if("RGB_LED_STRIP"===this.device_type)this.state="loaded";else if("IKEA"===this.company){let A=await dA.fetchTradfriDevice(this.id);"light"===A.device_type&&(this.brightness=A.dimmable_device_data.brightness,this.device_on=1===A.dimmable_device_data.power),this.state="loaded"}else this.state="loaded"}},uA=lA,pA=Object(p["a"])(uA,tA,aA,!1,null,null,null),mA=pA.exports,hA={name:"Home",data(){return{searchInput:""}},computed:{...Object(d["d"])("devices",{devices:A=>A.devices}),groups(){const A={};return this.devices.forEach(e=>{(""===this.searchInput||e.product.company.toLowerCase().includes(this.searchInput.toLowerCase()))&&(void 0===A[e.product.company]&&(A[e.product.company]=[]),A[e.product.company].push(e))}),A}},methods:{...Object(d["b"])("devices",["fetchDevices"]),getImgUrl(A){if("IKEA"===A.product.company)switch(A.category){case"0":return t("50fa");case"2":return t("b37a")}switch(A.category){case"plug":return t("d5b7");case"light":return t("e282");case"led-strip":return t("4352")}}},async mounted(){await this.fetchDevices()},components:{AppCard:mA}},gA=hA,vA=(t("0a63"),Object(p["a"])(gA,AA,eA,!1,null,null,null)),bA=vA.exports,fA=function(){var A=this,e=A._self._c;return this.authenticating?e("div",[e("loading",{attrs:{active:A.authenticating,"is-full-page":!0}})],1):e("div",{staticClass:"login"},[e("div",[e("b-alert",{attrs:{variant:"danger",dismissible:""},model:{value:A.showAuthError,callback:function(e){A.showAuthError=e},expression:"showAuthError"}},[A._v(A._s(this.context.msg)+" ")]),e("b-card",{staticStyle:{"background-color":"rgba(255, 255, 255, 0.25)","margin-top":"10px"},attrs:{align:"center",title:"Login"}},[e("b-alert",{attrs:{show:!!A.error,variant:"danger"}},[A._v(A._s(A.error))]),e("b-form",{on:{submit:function(e){return e.preventDefault(),A.onSubmit.apply(null,arguments)}}},[e("b-form-group",{attrs:{id:"usernameInput",label:"Username:","label-for":"exampleInput1"}},[e("b-form-input",{attrs:{id:"username",type:"text",required:"",placeholder:"Enter username"},model:{value:A.form.username,callback:function(e){A.$set(A.form,"username",e)},expression:"form.username"}})],1),e("b-form-group",{attrs:{id:"passwordInput",label:"Password:","label-for":"exampleInput2"}},[e("b-form-input",{attrs:{id:"password",type:"password",required:"",placeholder:"Enter password"},model:{value:A.form.password,callback:function(e){A.$set(A.form,"password",e)},expression:"form.password"}})],1),e("b-button",{attrs:{type:"submit",variant:"primary"}},[A._v("Login")])],1)],1)],1)])},_A=[],yA=t("18fa"),EA=t.n(yA),IA={name:"Login",components:{Loading:EA.a},data(){return{form:{username:"",password:""},showRegisterSuccessAlert:!1,showAuthError:!1,context:{msg:""},authenticating:!1}},computed:{...Object(d["d"])("auth",["error"])},methods:{...Object(d["b"])("auth",["login","logout"]),...Object(d["c"])("auth",["isLoggedIn"]),async onSubmit(){this.authenticating=!0;const A=await this.login(this.form);if(this.authenticating=!1,!A)return this.showAuthError=!0,void(this.context.msg="username/password is incorrect");await this.$router.push(this.$route.query.redirect||"/")}}},CA=IA,wA=Object(p["a"])(CA,fA,_A,!1,null,"ecb171d4",null),kA=wA.exports,BA=t("4360"),SA=async(A,e,t)=>{const a=BA["a"].getters["auth/isLoggedIn"],n=A.matched.some(A=>A.meta.requiresAuth);return!a&&n?t({name:"login",query:{redirect:A.path}}):(a&&A.name,t())};a["default"].use(X["a"]);const DA=[{path:"/",name:"Home",component:bA,meta:{requiresAuth:!0,title:"Home"}},{path:"/device/:company/:id",name:"Device",component:()=>t.e("chunk-9b3d9fdc").then(t.bind(null,"3d70")),meta:{requiresAuth:!0,title:"Device"}},{path:"/recipes",name:"Recipes",component:()=>t.e("chunk-2d0e5b37").then(t.bind(null,"9637")),meta:{requiresAuth:!0,title:"Recipes"}},{path:"/sensors",name:"Sensors",component:()=>t.e("chunk-2d0d0836").then(t.bind(null,"67fe")),meta:{requiresAuth:!0,title:"Sensors"}},{path:"/routines",name:"Routines",component:()=>t.e("chunk-2d0e2131").then(t.bind(null,"7cc2")),meta:{requiresAuth:!0,title:"Routines"}},{path:"/recipe/:id",name:"Recipe",component:()=>t.e("chunk-c3145c2c").then(t.bind(null,"2d11")),meta:{requiresAuth:!0,title:"Recipe"}},{path:"/routine/:id",name:"Routine",component:()=>t.e("chunk-b15792f0").then(t.bind(null,"8eb4")),meta:{requiresAuth:!0,title:"Routine"}},{path:"/inventory",name:"Inventory",component:()=>t.e("chunk-3ab32ac3").then(t.bind(null,"e25f")),meta:{requiresAuth:!0,title:"Inventory"}},{path:"/cameras",name:"Cameras",component:()=>t.e("chunk-2d20feb8").then(t.bind(null,"b64b")),meta:{requiresAuth:!0,title:"Cameras"}},{path:"/login",name:"login",component:kA,meta:{title:"Login"}}],xA=new X["a"]({routes:DA});xA.beforeEach(SA),xA.afterEach((A,e)=>{const t=A.meta.title;document.title=t?"Home Automation - "+t:"Home Automation"}),BA["a"].watch((A,e)=>e["auth/isLoggedIn"],A=>{!A&&xA.currentRoute.matched.some(A=>A.meta.requiresAuth)&&xA.push({name:"login",query:{redirect:xA.currentRoute.path}})});var OA=xA,TA=t("5f5b"),QA=(t("f9e3"),t("2dd8"),t("aa3a")),RA=t.n(QA),LA=t("e723"),jA=t.n(LA),$A=t("bc3a"),MA=t.n($A);a["default"].config.productionTip=!1,a["default"].use(TA["a"]),a["default"].use(RA.a),a["default"].use(jA.a),MA.a.defaults.headers.common["Authorization"]="Bearer "+BA["a"].getters["auth/getBearerToken"],new a["default"]({router:OA,store:BA["a"],render:A=>A(Y)}).$mount("#app")},8075:function(A,e,t){"use strict";t("ac71")},"9a29":function(A,e,t){"use strict";t("0a4f")},a1d2:function(A,e,t){"use strict";var a=t("c5fa");e["a"]={async fetchRoutines(){const A=await Object(a["a"])().get("/api/v1/routines").catch(()=>null);return A.data},async addRoutine(A){const e=await Object(a["a"])().post("/api/v1/routines",A).catch(()=>null);return e.data},async updateRoutine(A,e){const t=await Object(a["a"])().put("/api/v1/routines/"+A,e).catch(()=>null);return t.data},async fetchRoutine(A){const e=await Object(a["a"])().get("/api/v1/routines/"+A).catch(()=>null);return e.data},async deleteRoutine(A){const e=await Object(a["a"])().delete("/api/v1/routines/"+A).catch(()=>null);return e.data},async fetchLogs(){const A=await Object(a["a"])().get("/api/v1/routines/logs").catch(()=>null);return A.data},async fetchLogsForId(A){const e=await Object(a["a"])().get("/api/v1/routines/logs/"+A).catch(()=>null);return e.data},async triggerRoutine(A){const e=await Object(a["a"])().get("/api/v1/routines/trigger/"+A).catch(()=>null);return e.data}}},ac71:function(A,e,t){},b37a:function(A,e,t){A.exports=t.p+"img/ikea_light_bulb.ea3c9e31.png"},be85:function(A,e,t){"use strict";var a=t("c5fa");e["a"]={async fetchRecipes(){const A=await Object(a["a"])().get("/api/v1/recipes").catch(()=>null);return A.data},async addRecipe(A){const e=await Object(a["a"])().post("/api/v1/recipes",A).catch(()=>null);return e.data},async fetchRecipe(A){const e=await Object(a["a"])().get("/api/v1/recipes/"+A).catch(()=>null);return e.data},async fetchRandomRecipes(A){const e=await Object(a["a"])().get("/api/v1/recipes/suggestions?amount="+A).catch(()=>null);return e.data},async deleteRecipe(A){const e=await Object(a["a"])().delete("/api/v1/recipes/"+A).catch(()=>null);return e.data}}},c5fa:function(A,e,t){"use strict";var a=t("bc3a"),n=t.n(a),r=t("4360");e["a"]=()=>{const A=n.a.create({baseURL:"https:///",withCredentials:!0,headers:{...r["a"].getters["auth/getBearerToken"]&&{Authorization:"Bearer "+r["a"].getters["auth/getBearerToken"]}}});return A.interceptors.response.use(void 0,async A=>(console.error(A),401===A.response.status&&r["a"].dispatch("auth/refreshToken"),A.response)),A}},d1da:function(A,e){A.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABAAAAAQACAQAAADVFOMIAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAHdElNRQfiBgsLETcoKAt2AAALxklEQVR42u3ZsRGDMBBE0cVDRCUoNuW4PJcDMVSi2CU4cHIW73VwK4I/QwIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPDdZAIoaEkb6Joz3ZNCNbMJoKCWfaBrthyeFKp5mAAABAAAIAAAAAEAAAgAAEAAAAACAAAQAACAAAAABAAAIAAAAAEAAAgAAEAAAAACAAAQAACAAAAABAAACAAAQAAAAAIAABAAAIAAAAAEAAAgAAAAAQAACAAAQAAAAAIAABAAAIAAAAAEAAAgAAAAAQAACAAAEAAAgAAAAAQAACAAAAABAAAIAABAAAAAAgAAEAAAgAAAAAQAACAAAAABAAAIAABAAAAAAgAAEAAAIAAAAAEAAAgAAEAAAAACAAAQAACAAAAABAAAIAAAAAEAAAgAAEAAAAACAAAQAACAAAAABAAAIAAAQAAAAAIAABAAAIAAAAAEAAAgAAAAAQAACAAAQAAAAAIAABAAAIAAAAAEAAAgAAAAAQAACAAAQAAAgAAwAQAIAABAAAAAAgAAEAAAgAAAAAQAACAAAAABAAAIAABAAAAAAgAAEAAAgAAAAAQAACAAAAABAAAIAAAQAACAAAAABAAAIAAAAAEAAAgAAEAAAAACAAAQAACAAAAABAAAIAAAAAEAAAgAAEAAAAACAAAQAAAgAAAAAQAACAAAQAAAAAIAABAAAIAAAAAEAAAgAAAAAQAACAAAQAAAAAIAABAAAIAAAAAEAAAgAABAAAAAAgAAEAAAgAAAAAQAACAAAAABAAAIAABAAAAAAgAAEAAAgAAAAAQAACAAAAABAAAIAABAAACAAAAABAAAIAAAAAEAAAgAAEAAAAACAAAQAACAAAAABAAAIAAAAAEAAAgAAEAAAAACAAAQAACAAAAAAWACABAAAIAAAAAEAAAgAAAAAQAACAAAQAAAAAIAABAAAIAAAAAEAAAgAAAAAQAACAAAQAAAAAIAABAAACAAAAABAAAIAABAAAAAAgAAEAAAgAAAAAQAACAAAAABAAAIAABAAAAAAgAAEAAAgAAAAAQAACAAAEAAAAACAAAQAACAAAAABAAAIAAAAAEAAAgAAEAAAAACAAAQAACAAAAABAAAIAAAAAEAAAgAAEAAAIAAAAAEAAAgAAAAAQAACAAAQAAAAAIAABAAAIAAAAAEAAAgAAAAAQAACAAAQAAAAAIAABAAAIAAAAABAAAIAABAAAAAAgAAEAAAgAAAAAQAACAAAAABAAAIAABAAAAAAgAAEAAAwA9mExS1pBnhxlbXMIwz3QgVTSYo6pndCMAAthxGqMgvAAAQAACAAAAABAAAIAAAAAEAAAgAAEAAAAACAAAQAACAAAAABAAAIAAAAAEAAAgAAEAAAAACAAAQAAAgAAAAAQAACAAAQAAAAAIAABAAAIAAAAAEAAAgAAAAAQAACAAAQAAAAAIAABAAAIAAAAAEAAAgAABAAAAAAgAAEAAAgAAAAAQAACAAAAABAAAIAABAAAAAAgAAEAAAgAAAAAQAACAAAAABAAAIAABAAACAAAAABAAAIAAAAAEAAAgAAEAAAAACAAAQAACAAAAABAAAIAAAAAEAAAgAAEAAAAACAAAQAACAAAAAAQAACAAAQAAAAAIAABAAAIAAAAAEAAAgAAAAAQAACAAAQAAAAAIAABAAAIAAAAAEAAAgAAAAAQAACAAAEAAAgAAAAAQAACAAAAABAAAIAABAAAAAAgAAEAAAgAAAAAQAACAAAAABAAAIAADgq8kERS1pRrixNe+Brnnl8qQ3dqYboaLZBEX1HEZgEJevGerxCwAABAAAIAAAAAEAAAgAAEAAAAACAAAQAACAAAAABAAAIAAAAAEAAAgAAEAAAAACAAAQAACAAAAABAAACAAAQAAAAAIAABAAAIAAAAAEAAAgAAAAAQAACAAAQAAAAAIAABAAAIAAAAAEAAAgAAAAAQAACAAAEAAAgAAAAAQAACAAAAABAAAIAABAAAAAAgAAEAAAgAAAAAQAACAAAAABAAAIAABAAAAAAgAAEAAAIAAAAAEAAAgAAEAAAAACAAAQAACAAAAABAAAIAAAAAEAAAgAAEAAAAACAAAQAACAAAAABAAAIAAAQAAAAAIAABAAAIAAAAAEAAAgAAAAAQAACAAAQAAAAAIAABAAAIAAAAAEAAAgAAAAAQAACAAAQAAAAAIAAAQAACAAAAABAAAIAABAAAAAAgAAEAAAgAAAAAQAACAAAAABAAAIAABAAAAAAgAAEAAAgAAAAAQAAAgAAEAAAAACAAAQAACAAAAABAAAIAAAAAEAAAgAAEAAAAACAAAQAACAAAAABAAAIAAAAAEAAAgAABAAAIAAAAAEAAAgAAAAAQAACAAAQAAAAAIAABAAAIAAAAAEAAAgAAAAAQAACAAAQAAAAAIAABAAACAAAAABAAAIAABAAAAAAgAAEAAAgAAAAAQAACAAAAABAAAIAABAAAAAAgAAEAAAgAAAAAQAACAAAEAAAAACAAAQAACAAAAABAAAIAAAAAEAAAgAAEAAAAACAAAQAACAAAAABAAAIAAAAAEAAAgAAEAAAAACAAAEAAAgAAAAAQAACAAAQAAAAAIAABAAAIAAAAAEAAAgAAAAAQAACAAAQAAAAAIAABAAAIAAAAAEAAAIAABAAAAAAgAAEAAAgAAAAAQAACAAAAABAAAIAABAAAAAAgAAEAAAgAAAAAQAACAAAAABAAAIAAAQAACAAAAABAAAIAAAAAEAAAgAAEAAAAACAAAQAACAAAAABAAAIAAAAAEAAAgAAEAAAAACAAAQAAAgAAAAAQAACAAAQAAAAAIAABAAAIAAAAAEAAAgAAAAAQAACAAAQAAAAAIAABAAAIAAAAAEAAAgAABAAAAAAgAAEAAAgAAAAAQAACAAAAABAAAIAABAAAAAAgAAEAAAgAAAAAQAAPCLyQRQ0JI20DVnuicFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAf/QBrcIWgdB708UAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDYtMTFUMTE6MTc6NTUrMDA6MDAOO/WHAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTA2LTExVDExOjE3OjU1KzAwOjAwf2ZNOwAAAABJRU5ErkJggg=="},d210:function(A,e,t){"use strict";var a=t("c5fa");e["a"]={async fetchDevices(){const A=await Object(a["a"])().get("/api/v1/devices").catch(()=>null);return A.data},async addNewDevice(A){let e="/api/v1";switch(A.device_type){case"tapo":e+="/tapo/devices/register";break;case"LED_STRIP":e+="/leds/devices/register";break}const t=await Object(a["a"])().post(e,A.data);return t.data}}},d5b7:function(A,e,t){A.exports=t.p+"img/smart_plug_icon.0bf5980e.png"},db15:function(A,e,t){},e282:function(A,e,t){A.exports=t.p+"img/light_icon.38a191eb.png"}});
//# sourceMappingURL=app.e0489ad4.js.map