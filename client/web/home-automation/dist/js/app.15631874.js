(function(e){function A(A){for(var n,r,o=A[0],c=A[1],s=A[2],u=0,l=[];u<o.length;u++)r=o[u],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&l.push(a[r][0]),a[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);d&&d(A);while(l.length)l.shift()();return i.push.apply(i,s||[]),t()}function t(){for(var e,A=0;A<i.length;A++){for(var t=i[A],n=!0,r=1;r<t.length;r++){var o=t[r];0!==a[o]&&(n=!1)}n&&(i.splice(A--,1),e=c(c.s=t[0]))}return e}var n={},r={app:0},a={app:0},i=[];function o(e){return c.p+"js/"+({}[e]||e)+"."+{"chunk-2d0d0836":"ba28f80d","chunk-2d0e2131":"168ed4d5","chunk-2d0e5b37":"c408ec95","chunk-6867de46":"aba46ea5","chunk-76fed8a9":"f6f743bf","chunk-79e29ba2":"45508a5b","chunk-b545e53c":"0d09b38b","chunk-d4d18b50":"49678790"}[e]+".js"}function c(A){if(n[A])return n[A].exports;var t=n[A]={i:A,l:!1,exports:{}};return e[A].call(t.exports,t,t.exports,c),t.l=!0,t.exports}c.e=function(e){var A=[],t={"chunk-6867de46":1,"chunk-79e29ba2":1,"chunk-b545e53c":1,"chunk-d4d18b50":1};r[e]?A.push(r[e]):0!==r[e]&&t[e]&&A.push(r[e]=new Promise((function(A,t){for(var n="css/"+({}[e]||e)+"."+{"chunk-2d0d0836":"31d6cfe0","chunk-2d0e2131":"31d6cfe0","chunk-2d0e5b37":"31d6cfe0","chunk-6867de46":"d900e53e","chunk-76fed8a9":"31d6cfe0","chunk-79e29ba2":"5f3533b3","chunk-b545e53c":"5819b7ba","chunk-d4d18b50":"e5c9efeb"}[e]+".css",a=c.p+n,i=document.getElementsByTagName("link"),o=0;o<i.length;o++){var s=i[o],u=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(u===n||u===a))return A()}var l=document.getElementsByTagName("style");for(o=0;o<l.length;o++){s=l[o],u=s.getAttribute("data-href");if(u===n||u===a)return A()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=A,d.onerror=function(A){var n=A&&A.target&&A.target.src||a,i=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=n,delete r[e],d.parentNode.removeChild(d),t(i)},d.href=a;var p=document.getElementsByTagName("head")[0];p.appendChild(d)})).then((function(){r[e]=0})));var n=a[e];if(0!==n)if(n)A.push(n[2]);else{var i=new Promise((function(A,t){n=a[e]=[A,t]}));A.push(n[2]=i);var s,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=o(e);var l=new Error;s=function(A){u.onerror=u.onload=null,clearTimeout(d);var t=a[e];if(0!==t){if(t){var n=A&&("load"===A.type?"missing":A.type),r=A&&A.target&&A.target.src;l.message="Loading chunk "+e+" failed.\n("+n+": "+r+")",l.name="ChunkLoadError",l.type=n,l.request=r,t[1](l)}a[e]=void 0}};var d=setTimeout((function(){s({type:"timeout",target:u})}),12e4);u.onerror=u.onload=s,document.head.appendChild(u)}return Promise.all(A)},c.m=e,c.c=n,c.d=function(e,A,t){c.o(e,A)||Object.defineProperty(e,A,{enumerable:!0,get:t})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,A){if(1&A&&(e=c(e)),8&A)return e;if(4&A&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(c.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&A&&"string"!=typeof e)for(var n in e)c.d(t,n,function(A){return e[A]}.bind(null,n));return t},c.n=function(e){var A=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(A,"a",A),A},c.o=function(e,A){return Object.prototype.hasOwnProperty.call(e,A)},c.p="/",c.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=A,s=s.slice();for(var l=0;l<s.length;l++)A(s[l]);var d=u;i.push([0,"chunk-vendors"]),t()})({0:function(e,A,t){e.exports=t("56d7")},"034f":function(e,A,t){"use strict";t("85ec")},"17f9":function(e,A,t){"use strict";var n=t("1da1"),r=(t("96cf"),t("c5fa"));A["a"]={fetchAllLedStripDevices:function(){return Object(n["a"])(regeneratorRuntime.mark((function e(){var A;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(r["a"])().get("/api/v1/leds/devices");case 2:return A=e.sent,e.abrupt("return",A.data);case 4:case"end":return e.stop()}}),e)})))()},commandLedStripDevice:function(e,A){return Object(n["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(r["a"])().post("/api/v1/leds/devices/"+e+"/command",A);case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()}}},"1a69":function(e,A,t){"use strict";var n=t("1da1"),r=(t("96cf"),t("c5fa"));A["a"]={wakeTapoDevice:function(e){return Object(n["a"])(regeneratorRuntime.mark((function A(){var t;return regeneratorRuntime.wrap((function(A){while(1)switch(A.prev=A.next){case 0:return A.next=2,Object(r["a"])().get("/api/v1/tapo/wake/"+e);case 2:return t=A.sent,A.abrupt("return",t.data);case 4:case"end":return A.stop()}}),A)})))()},fetchTapoDevice:function(e){return Object(n["a"])(regeneratorRuntime.mark((function A(){var t;return regeneratorRuntime.wrap((function(A){while(1)switch(A.prev=A.next){case 0:return A.next=2,Object(r["a"])().get("/api/v1/tapo/devices/"+e);case 2:return t=A.sent,A.abrupt("return",t.data);case 4:case"end":return A.stop()}}),A)})))()},deleteTapoDevice:function(e){return Object(n["a"])(regeneratorRuntime.mark((function A(){var t;return regeneratorRuntime.wrap((function(A){while(1)switch(A.prev=A.next){case 0:return A.next=2,Object(r["a"])().delete("/api/v1/tapo/devices/"+e);case 2:return t=A.sent,A.abrupt("return",t.data);case 4:case"end":return A.stop()}}),A)})))()},fetchAllTapoDevices:function(){return Object(n["a"])(regeneratorRuntime.mark((function e(){var A;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(r["a"])().get("/api/v1/tapo/devices");case 2:return A=e.sent,e.abrupt("return",A.data);case 4:case"end":return e.stop()}}),e)})))()},commandDevice:function(e,A,t){return Object(n["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Object(r["a"])().get("/api/v1/tapo/lights/"+e+"?command="+A+"&brightness="+t);case 2:return a=n.sent,n.abrupt("return",a.data);case 4:case"end":return n.stop()}}),n)})))()},turnOnDevice:function(e){var A=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,A.commandDevice(e,"on",100);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},turnOffDevice:function(e){var A=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,A.commandDevice(e,"off",1);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},setDeviceBrightness:function(e,A){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.commandDevice(e,"on",A);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))()}}},4352:function(e,A,t){e.exports=t.p+"img/led_strip_icon.fb10e610.png"},4360:function(e,A,t){"use strict";var n=t("2b0e"),r=t("2f62"),a=t("1da1"),i=(t("96cf"),t("4de4"),t("c5fa")),o={fetchDevices:function(){return Object(a["a"])(regeneratorRuntime.mark((function e(){var A;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["a"])().get("/api/v1/devices").catch((function(){return null}));case 2:return A=e.sent,e.abrupt("return",A.data);case 4:case"end":return e.stop()}}),e)})))()},addNewDevice:function(e){return Object(a["a"])(regeneratorRuntime.mark((function A(){var t,n;return regeneratorRuntime.wrap((function(A){while(1)switch(A.prev=A.next){case 0:t="/api/v1",A.t0=e.device_type,A.next="tapo"===A.t0?4:"LED_STRIP"===A.t0?6:8;break;case 4:return t+="/tapo/devices/register",A.abrupt("break",8);case 6:return t+="/leds/devices/register",A.abrupt("break",8);case 8:return A.next=10,Object(i["a"])().post(t,e.data);case 10:return n=A.sent,A.abrupt("return",n.data);case 12:case"end":return A.stop()}}),A)})))()}},c={namespaced:!0,state:{loading:!1,error:null,devices:[]},mutations:{REQUEST:function(e){e.loading=!0,e.error=null},SUCCESS:function(e,A){e.loading=!1,e.devices=A},FAILED:function(e,A){e.loading=!1,e.error=A}},getters:{devices:function(e){return e.devices.filter((function(e){return e.status}))}},actions:{fetchDevices:function(e){return Object(a["a"])(regeneratorRuntime.mark((function A(){var t,n;return regeneratorRuntime.wrap((function(A){while(1)switch(A.prev=A.next){case 0:return t=e.commit,t("REQUEST"),A.prev=2,A.next=5,o.fetchDevices();case 5:n=A.sent,t("SUCCESS",n.devices),A.next=13;break;case 9:throw A.prev=9,A.t0=A["catch"](2),t("FAILED",A.t0.message),A.t0;case 13:case"end":return A.stop()}}),A,null,[[2,9]])})))()},addNewDevice:function(e,A){return Object(a["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,n("REQUEST"),t.prev=2,t.next=5,o.addNewDevice(A);case 5:t.next=11;break;case 7:throw t.prev=7,t.t0=t["catch"](2),n("FAILED",t.t0.message),t.t0;case 11:case"end":return t.stop()}}),t,null,[[2,7]])})))()}}},s=t("1a69"),u={namespaced:!0,state:{loading:!1,error:null,tapoDevice:null,tapoDevices:[],devs:{}},mutations:{REQUEST:function(e){e.loading=!0,e.error=null},WAKE_DEVICE:function(){},TAPO_DEVICE_LOADED:function(e,A){e.loading=!1,e.tapoDevice=A},TAPO_DEVICES_LOADED:function(e,A){e.loading=!1,e.tapoDevices=A},FAILED:function(e,A){e.loading=!1,e.error=A},DEV_LOADED:function(e,A){e.loading=!1,e.devs[A.device_id]=A}},getters:{tapoDevice:function(e){return e.tapoDevice}},actions:{fetchTapoDevice:function(e,A){return Object(a["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,n("REQUEST"),t.prev=2,t.next=5,s["a"].fetchTapoDevice(A);case 5:r=t.sent,n("TAPO_DEVICE_LOADED",r.device),n("DEV_LOADED",r.device),t.next=14;break;case 10:throw t.prev=10,t.t0=t["catch"](2),n("FAILED",t.t0.message),t.t0;case 14:case"end":return t.stop()}}),t,null,[[2,10]])})))()},fetchTapoDevices:function(e){return Object(a["a"])(regeneratorRuntime.mark((function A(){var t,n;return regeneratorRuntime.wrap((function(A){while(1)switch(A.prev=A.next){case 0:return t=e.commit,t("REQUEST"),A.prev=2,A.next=5,s["a"].fetchAllTapoDevices();case 5:n=A.sent,t("TAPO_DEVICES_LOADED",n.devices),A.next=13;break;case 9:throw A.prev=9,A.t0=A["catch"](2),t("FAILED",A.t0.message),A.t0;case 13:case"end":return A.stop()}}),A,null,[[2,9]])})))()}}},l=(t("ac1f"),t("1276"),{login:function(e,A){return Object(a["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(i["a"])().post("/auth/login",{username:e,password:A}).catch((function(){return null}));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})))()},refreshToken:function(e){return Object(a["a"])(regeneratorRuntime.mark((function A(){var t;return regeneratorRuntime.wrap((function(A){while(1)switch(A.prev=A.next){case 0:return A.next=2,Object(i["a"])().get("/auth/refresh?refresh-token="+e).catch((function(){return null}));case 2:return t=A.sent,A.abrupt("return",t);case 4:case"end":return A.stop()}}),A)})))()}}),d={namespaced:!0,modules:{},state:{authorization_token:localStorage.getItem("authorization_token")||null,refresh_token:localStorage.getItem("refresh_token")||null,username:localStorage.getItem("username")||null,userid:localStorage.getItem("userid")||null,user:null,error:null},mutations:{SET_AUTHORIZATION_TOKEN:function(e,A){e.authorization_token=A},SET_REFRESH_TOKEN:function(e,A){e.refresh_token=A},SET_USERNAME:function(e,A){e.username=A},SET_ID:function(e,A){e.userid=A},CLEAR_ERROR:function(e){e.error=null},CLEAR_ALL:function(e){e.authorization_token=null,e.refresh_token=null,e.id=null,e.user=null,e.username=null}},actions:{login:function(e,A){return Object(a["a"])(regeneratorRuntime.mark((function t(){var n,r,a,i,o,c,s,u,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=A.username,a=A.password,n("CLEAR_ERROR"),t.next=5,l.login(r,a);case 5:if(i=t.sent,200!==i.status){t.next=17;break}return o=i.data,c=o.username,s=o.user_id,u=o.authorization_token,d=o.refresh_token,localStorage.setItem("authorization_token",u),localStorage.setItem("refresh_token",d),localStorage.setItem("username",c),localStorage.setItem("userid",s),n("SET_USERNAME",c),n("SET_AUTHORIZATION_TOKEN",u),n("SET_REFRESH_TOKEN",d),n("SET_ID",s),t.abrupt("return",!0);case 17:return t.abrupt("return",!1);case 18:case"end":return t.stop()}}),t)})))()},logout:function(e){return Object(a["a"])(regeneratorRuntime.mark((function A(){var t;return regeneratorRuntime.wrap((function(A){while(1)switch(A.prev=A.next){case 0:t=e.commit,localStorage.removeItem("authorization_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("username"),localStorage.removeItem("userid"),t("CLEAR_ALL"),t("CLEAR_ERROR");case 7:case"end":return A.stop()}}),A)})))()},refreshToken:function(e,A){return Object(a["a"])(regeneratorRuntime.mark((function t(){var n,r,a,i,o,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=A.token,t.next=4,l.refreshToken(r);case 4:a=t.sent,i=a.data,o=i.authorization_token,c=i.refresh_token,localStorage.setItem("authorization_token",o),localStorage.setItem("refresh_token",c),n("SET_AUTHORIZATION_TOKEN",o),n("SET_REFRESH_TOKEN",c);case 10:case"end":return t.stop()}}),t)})))()}},getters:{isLoggedIn:function(e){if(null==e.authorization_token)return!1;var A=function(e){try{return JSON.parse(atob(e.split(".")[1]))}catch(A){return null}},t=A(e.authorization_token);return null!=t&&t.exp>Math.floor(Date.now()/1e3)},getBearerToken:function(e){return e.authorization_token},getRefreshToken:function(e){return e.refresh_token}}};n["default"].use(r["a"]);A["a"]=new r["a"].Store({state:{},mutations:{},actions:{},modules:{devices:c,tapo:u,auth:d}})},5259:function(e,A,t){"use strict";t("cad0")},"56d7":function(e,A,t){"use strict";t.r(A);t("e260"),t("e6cf"),t("cca6"),t("a79d");var n=t("2b0e"),r=function(){var e=this,A=e.$createElement,t=e._self._c||A;return t("div",{style:{backgroundImage:e.createBackgroundString},attrs:{id:"app"}},[t("SideBar"),t("app-toolbar",{staticClass:"mb2"}),t("b-container",{staticClass:"content"},[t("router-view")],1)],1)},a=[],i=(t("99af"),function(){var e=this,A=e.$createElement,n=e._self._c||A;return n("b-navbar",{staticStyle:{"background-color":"rgba(255, 255, 255, 0.25)","backdrop-filter":"blur(5px)"},attrs:{sticky:!0,toggleable:"lg",type:"light"}},[n("b-container",[n("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.sidebar-1",modifiers:{"sidebar-1":!0}}]},[e._v("Toggle Sidebar")]),n("b-navbar-toggle",{attrs:{target:"nav_collapse"}}),n("b-collapse",{attrs:{"is-nav":"",id:"nav_collapse"}},[n("b-navbar-nav",[n("b-nav-item",{attrs:{href:"#",to:"/",exact:""}},[e._v("Home")]),n("b-nav-item",{attrs:{href:"#",to:"/routines",exact:""}},[e._v("Routines")]),n("b-nav-item",{attrs:{href:"#",to:"/sensors",exact:""}},[e._v("Sensors")]),n("b-nav-item",{attrs:{href:"#",to:"/recipes",exact:""}},[e._v("Recipes")]),n("b-nav-item",{attrs:{href:"#",to:"/inventory",exact:""}},[e._v("Inventory")]),n("b-nav-item",{attrs:{href:"#",to:"/cameras",exact:""}},[e._v("Cameras")])],1),n("b-navbar-nav",{staticClass:"ml-auto"},[n("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{pill:"",img:"./assets/add.png",variant:"primary",title:"Click here to add a new"},on:{click:e.onClickAdd}},[n("img",{attrs:{src:t("d1da"),width:"25",height:"25"}})]),e.isLoggedIn?n("b-nav-item-dropdown",{attrs:{right:""}},[n("template",{slot:"button-content"},[e._v(e._s(e.username))]),n("b-dropdown-item",{on:{click:e.logout}},[e._v("Signout")])],2):e._e()],1)],1)],1),n("add-device-modal",{ref:"deviceModal"}),n("add-routine-modal",{ref:"routineModal"}),n("add-sensor-modal",{ref:"sensorModal"}),n("add-recipe-modal",{ref:"recipeModal"})],1)}),o=[],c=t("5530"),s=(t("b0c0"),function(){var e=this,A=e.$createElement,t=e._self._c||A;return t("b-modal",{ref:"deviceModal",attrs:{size:"xl",id:"deviceModal"},on:{ok:e.handleOk,cancel:e.handleCancel,close:e.handleCancel}},[t("b-form-group",[t("b-input-group",[t("b-container",{attrs:{fluid:""}},[t("b-row",{staticClass:"my-1"},[t("b-col",{attrs:{sm:"4"}},[t("label",[e._v("Device Type:")])]),t("b-col",{attrs:{sm:"8"}},[t("b-form-select",{attrs:{options:e.device_type_options},model:{value:e.device_type,callback:function(A){e.device_type=A},expression:"device_type"}})],1)],1)],1)],1),e.isTapoDevice()?t("div",[t("b-input-group",[t("b-container",{attrs:{fluid:""}},[t("b-row",{staticClass:"my-1"},[t("b-col",{attrs:{sm:"4"}},[t("label",[e._v("IP Address:")])]),t("b-col",{attrs:{sm:"8"}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.newItem.ip,expression:"newItem.ip"}],staticClass:"mx-1",attrs:{size:"sm",placeholder:"ip address"},domProps:{value:e.newItem.ip},on:{input:function(A){A.target.composing||e.$set(e.newItem,"ip",A.target.value)}}})])],1)],1)],1),t("b-input-group",[t("b-container",{attrs:{fluid:""}},[t("b-row",{staticClass:"my-1"},[t("b-col",{attrs:{sm:"4"}},[t("label",[e._v("Email:")])]),t("b-col",{attrs:{sm:"8"}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.newItem.email,expression:"newItem.email"}],staticClass:"mx-1",attrs:{size:"sm",placeholder:"email"},domProps:{value:e.newItem.email},on:{input:function(A){A.target.composing||e.$set(e.newItem,"email",A.target.value)}}})])],1)],1)],1),t("b-input-group",[t("b-container",{attrs:{fluid:""}},[t("b-row",{staticClass:"my-1"},[t("b-col",{attrs:{sm:"4"}},[t("label",[e._v("Password:")])]),t("b-col",{attrs:{sm:"8"}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.newItem.password,expression:"newItem.password"}],staticClass:"mx-1",attrs:{type:"password",size:"sm",placeholder:"password"},domProps:{value:e.newItem.password},on:{input:function(A){A.target.composing||e.$set(e.newItem,"password",A.target.value)}}})])],1)],1)],1)],1):e._e(),e.isLEDStripDevice()?t("div",[t("b-input-group",[t("b-container",{attrs:{fluid:""}},[t("b-row",{staticClass:"my-1"},[t("b-col",{attrs:{sm:"4"}},[t("label",[e._v("IP Address:")])]),t("b-col",{attrs:{sm:"8"}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.newItem.ip,expression:"newItem.ip"}],staticClass:"mx-1",attrs:{size:"sm",placeholder:"ip address"},domProps:{value:e.newItem.ip},on:{input:function(A){A.target.composing||e.$set(e.newItem,"ip",A.target.value)}}})])],1)],1)],1)],1):e._e()],1)],1)}),u=[],l=t("1da1"),d=(t("96cf"),t("2f62")),p={name:"AddDeviceModal",data:function(){return{device_type:"",newItem:{ip:"",email:"",password:"",device_type:""},device_type_options:[{value:"L510E",text:"L510E"},{value:"P100",text:"P100"},{value:"LED_STRIP",text:"LED Strip"}]}},computed:Object(c["a"])({},Object(d["d"])("devices",{devices:function(e){return e.devices}})),methods:Object(c["a"])(Object(c["a"])({},Object(d["b"])("devices",["addNewDevice"])),{},{isTapoDevice:function(){return"L510E"===this.device_type||"P100"===this.device_type},isLEDStripDevice:function(){return"LED_STRIP"===this.device_type},handleOk:function(e){e.preventDefault(),this.handleSubmit()},handleCancel:function(){},handleSubmit:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function A(){var t;return regeneratorRuntime.wrap((function(A){while(1)switch(A.prev=A.next){case 0:return t={},e.isTapoDevice()?t={device_type:"tapo",data:{ip_address:e.newItem.ip,email:e.newItem.email,password:e.newItem.password,device_type:e.device_type}}:e.isLEDStripDevice()&&(t={device_type:"LED_STRIP",data:{ip_address:e.newItem.ip}}),A.next=4,e.addNewDevice(t);case 4:e.device_type="",e.newItem.ip="",e.newItem.email="",e.newItem.password="",e.newItem.device_type="",e.$nextTick((function(){e.$refs.deviceModal.hide()}));case 10:case"end":return A.stop()}}),A)})))()}}),created:function(){var e=this;this.$on("add_device",(function(){e.$refs.deviceModal.show()}))}},m=p,f=t("2877"),g=Object(f["a"])(m,s,u,!1,null,"850c0952",null),v=g.exports,b=function(){var e=this,A=e.$createElement,t=e._self._c||A;return t("b-modal",{ref:"recipeModal",attrs:{size:"xl",id:"recipeModal"},on:{ok:e.handleOk,cancel:e.handleCancel,close:e.handleCancel}},[t("b-row",[t("div",[t("p",[e._v("Recipe:")])])]),t("b-form-group",[t("b-input-group",[t("b-container",{attrs:{fluid:""}},[t("b-row",{staticClass:"my-1"},[t("b-col",{attrs:{sm:"4"}},[t("label",[e._v("Name:")])]),t("b-col",{attrs:{sm:"8"}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.recipe.name,expression:"recipe.name"}],staticClass:"mx-1",attrs:{size:"sm",placeholder:"Recipe Name"},domProps:{value:e.recipe.name},on:{input:function(A){A.target.composing||e.$set(e.recipe,"name",A.target.value)}}})])],1)],1)],1)],1),t("b-form-group",[t("b-input-group",[t("b-container",{attrs:{fluid:""}},[t("b-row",{staticClass:"my-1"},[t("b-col",{attrs:{sm:"4"}},[t("label",[e._v("Image Source:")])]),t("b-col",{attrs:{sm:"8"}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.recipe.img,expression:"recipe.img"}],staticClass:"mx-1",attrs:{size:"sm",placeholder:"http://..."},domProps:{value:e.recipe.img},on:{input:function(A){A.target.composing||e.$set(e.recipe,"img",A.target.value)}}})])],1)],1)],1)],1),t("b-row",[t("div",[t("p",[e._v("Ingredients:")])])]),e._l(e.recipe.ingredients,(function(A,n){return t("b-row",{key:"ingredients"+n},[t("b-input-group",[t("b-container",{attrs:{fluid:""}},[t("b-row",{staticClass:"my-1"},[t("b-col",{attrs:{sm:"4"}},[t("label",[e._v("Ingredient name:")])]),t("b-col",{attrs:{sm:"8"}},[t("b-form-input",{staticClass:"mx-1",attrs:{size:"sm",placeholder:"name"},model:{value:A.name,callback:function(t){e.$set(A,"name",t)},expression:"ingredient.name"}})],1)],1)],1)],1),t("b-input-group",[t("b-container",{attrs:{fluid:""}},[t("b-row",{staticClass:"my-1"},[t("b-col",{attrs:{sm:"4"}},[t("label",[e._v("Ingredient amount:")])]),t("b-col",{attrs:{sm:"8"}},[t("b-form-input",{staticClass:"mx-1",attrs:{size:"sm",placeholder:"amount"},model:{value:A.amount,callback:function(t){e.$set(A,"amount",t)},expression:"ingredient.amount"}})],1)],1)],1)],1)],1)})),t("b-button",{attrs:{variant:"success"},on:{click:e.increaseIngredients}},[e._v("+")]),t("b-button",{attrs:{variant:"danger"},on:{click:e.decreaseIngredients}},[e._v("-")]),t("b-row",[t("div",[t("p",[e._v("Steps:")])])]),e._l(e.recipe.steps,(function(A,n){return t("b-row",{key:"steps-"+n},[t("b-input-group",[t("b-container",{attrs:{fluid:""}},[t("b-row",{staticClass:"my-1"},[t("b-col",{attrs:{sm:"4"}},[t("label",[e._v("Instruction:")])]),t("b-col",{attrs:{sm:"8"}},[t("b-form-input",{staticClass:"mx-1",attrs:{size:"sm",placeholder:"instruction"},model:{value:A.instruction,callback:function(t){e.$set(A,"instruction",t)},expression:"step.instruction"}})],1)],1)],1)],1)],1)})),t("b-button",{attrs:{variant:"success"},on:{click:e.increaseSteps}},[e._v("+")]),t("b-button",{attrs:{variant:"danger"},on:{click:e.decreaseSteps}},[e._v("-")])],2)},h=[],w=t("be85"),_={name:"AddRecipeModal",data:function(){return{recipe:{name:"",img:"",ingredients:[{name:"",amount:""}],steps:[{instruction:""}]}}},methods:{increaseSteps:function(){this.recipe.steps.push({instruction:""})},decreaseSteps:function(){this.recipe.steps.pop()},increaseIngredients:function(){this.recipe.ingredients.push({name:"",amount:""})},decreaseIngredients:function(){this.recipe.ingredients.pop()},handleOk:function(e){e.preventDefault(),this.handleSubmit()},handleCancel:function(){},handleSubmit:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function A(){return regeneratorRuntime.wrap((function(A){while(1)switch(A.prev=A.next){case 0:return A.next=2,w["a"].addRecipe(e.recipe);case 2:e.recipe={name:"",img:"",ingredients:[{name:"",amount:""}],steps:[{instruction:""}]},e.$nextTick((function(){e.$refs.recipeModal.hide()}));case 4:case"end":return A.stop()}}),A)})))()}},created:function(){var e=this;this.$on("add_recipe",(function(){e.$refs.recipeModal.show()}))}},E=_,x=Object(f["a"])(E,b,h,!1,null,"5adbad54",null),k=x.exports,I=function(){var e=this,A=e.$createElement,t=e._self._c||A;return t("b-modal",{ref:"routineModal",attrs:{size:"xl",id:"routineModal"},on:{ok:e.handleOk,cancel:e.handleCancel,close:e.handleCancel}},[t("b-row",[t("div",[t("p",[e._v("Routine:")])])]),t("b-form-group",[t("b-input-group",[t("b-container",{attrs:{fluid:""}},[t("b-row",{staticClass:"my-1"},[t("b-col",{attrs:{sm:"4"}},[t("label",[e._v("Name:")])]),t("b-col",{attrs:{sm:"8"}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.routine.name,expression:"routine.name"}],staticClass:"mx-1",attrs:{size:"sm",placeholder:"Routine Name"},domProps:{value:e.routine.name},on:{input:function(A){A.target.composing||e.$set(e.routine,"name",A.target.value)}}})]),t("b-col",{attrs:{sm:"4"}},[t("label",[e._v("Trigger Type:")])]),t("b-col",{attrs:{sm:"8"}},[t("b-form-select",{attrs:{options:e.trigger_type_options},model:{value:e.chosen_trigger_type,callback:function(A){e.chosen_trigger_type=A},expression:"chosen_trigger_type"}})],1),e.isTimerTriggerType()?t("div",[t("b-input-group",[t("b-container",{attrs:{fluid:""}},[t("b-row",{staticClass:"my-1"},[t("b-col",{attrs:{sm:"4"}},[t("label",[e._v("Schedule:")])]),t("b-col",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.routine.trigger.cron_expr,expression:"routine.trigger.cron_expr"}],staticClass:"mx-1",attrs:{size:"sm",placeholder:"Cron expr"},domProps:{value:e.routine.trigger.cron_expr},on:{input:function(A){A.target.composing||e.$set(e.routine.trigger,"cron_expr",A.target.value)}}})])],1)],1)],1)],1):e._e()],1),t("b-row",[t("div",[t("p",[e._v("Actions:")])])]),e._l(e.routine.actions,(function(A,n){return t("b-row",{key:"action-"+n},[t("b-input-group",[t("b-container",{attrs:{fluid:""}},[t("b-row",{staticClass:"my-1"},[t("b-col",{attrs:{sm:"4"}},[t("label",[e._v("Action Addr:")])]),t("b-col",{attrs:{sm:"8"}},[t("b-form-input",{staticClass:"mx-1",attrs:{size:"sm",placeholder:"url"},model:{value:A.addr,callback:function(t){e.$set(A,"addr",t)},expression:"action.addr"}})],1)],1)],1)],1),t("b-input-group",[t("b-container",{attrs:{fluid:""}},[t("b-row",{staticClass:"my-1"},[t("b-col",{attrs:{sm:"4"}},[t("label",[e._v("Action Method:")])]),t("b-col",{attrs:{sm:"8"}},[t("b-form-input",{staticClass:"mx-1",attrs:{size:"sm",placeholder:"method"},model:{value:A.method,callback:function(t){e.$set(A,"method",t)},expression:"action.method"}})],1)],1)],1)],1),t("b-input-group",[t("b-container",{attrs:{fluid:""}},[t("b-row",{staticClass:"my-1"},[t("b-col",{attrs:{sm:"4"}},[t("label",[e._v("Action Data:")])]),t("b-col",{attrs:{sm:"8"}},[t("v-jsoneditor",{attrs:{options:e.jsonEditorOptions,plus:!1,height:"300"},on:{error:e.onError},model:{value:A.data,callback:function(t){e.$set(A,"data",t)},expression:"action.data"}})],1)],1)],1)],1),t("b-input-group",[t("b-container",{attrs:{fluid:""}},[t("b-row",{staticClass:"my-1"},[t("b-col",{attrs:{sm:"4"}},[t("label",[e._v("Action Script:")])]),t("b-col",{attrs:{sm:"8"}},[t("codemirror",{attrs:{options:e.cmOptions},model:{value:A.script,callback:function(t){e.$set(A,"script",t)},expression:"action.script"}})],1)],1)],1)],1)],1)})),t("b-button",{attrs:{variant:"success"},on:{click:e.increaseActions}},[e._v("+")]),t("b-button",{attrs:{variant:"danger"},on:{click:e.decreaseActions}},[e._v("-")])],2)],1)],1)],1)},C=[],R=t("27f7"),O=t("a1d2"),y=t("8f94"),B=(t("f9d4"),t("8c2e"),t("a7be"),{name:"AddRoutineModal",components:{VJsoneditor:R["a"],codemirror:y["codemirror"]},data:function(){return{cmOptions:{tabSize:4,mode:"text/javascript",theme:"base16-dark",lineNumbers:!0,line:!0},jsonEditorOptions:{mode:"code"},chosen_trigger_type:-1,trigger_type_options:[{value:0,text:"TimerTriggerType"}],routine:{name:"",trigger:{type:-1,cron_expr:""},actions:[{addr:"",method:"",data:null,script:""}]}}},methods:{onError:function(){},isTimerTriggerType:function(){return 0===this.chosen_trigger_type},increaseActions:function(){this.routine.actions.push({addr:"",method:"",data:null,script:""})},decreaseActions:function(){this.routine.actions.pop()},handleOk:function(){this.handleSubmit()},handleCancel:function(){},handleSubmit:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function A(){return regeneratorRuntime.wrap((function(A){while(1)switch(A.prev=A.next){case 0:return e.routine.trigger.type=e.chosen_trigger_type,e.chosen_trigger_type=-1,A.next=4,O["a"].addRoutine(e.routine);case 4:e.routine={trigger:{type:-1,cron_expr:""},actions:[{script:"",addr:"",method:"",data:null}]},e.$nextTick((function(){e.$refs.routineModal.hide()}));case 6:case"end":return A.stop()}}),A)})))()}},created:function(){var e=this;this.$on("add_routine",(function(){e.$refs.routineModal.show()}))}}),S=B,Q=Object(f["a"])(S,I,C,!1,null,"731e6885",null),j=Q.exports,D=function(){var e=this,A=e.$createElement,t=e._self._c||A;return t("b-modal",{ref:"sensorModal",attrs:{size:"xl",id:"sensorModal"},on:{ok:e.handleOk,cancel:e.handleCancel,close:e.handleCancel}},[t("p",[e._v("Hello Sensor modal")])])},T=[],L={name:"AddSensorModal",methods:{handleOk:function(){},handleCancel:function(){},handleSubmit:function(){var e=this;this.$nextTick((function(){e.$refs.sensorModal.hide()}))}},created:function(){var e=this;this.$on("add_sensor",(function(){e.$refs.sensorModal.show()}))}},$=L,M=Object(f["a"])($,D,T,!1,null,"3eb1fc58",null),N=M.exports,P={name:"app-toolbar",data:function(){return{}},components:{AddRecipeModal:k,AddDeviceModal:v,AddRoutineModal:j,AddSensorModal:N},computed:Object(c["a"])(Object(c["a"])({},Object(d["d"])("auth",["username"])),Object(d["c"])("auth",["isLoggedIn"])),methods:Object(c["a"])(Object(c["a"])({},Object(d["b"])("auth",["logout"])),{},{getAddButtonHint:function(){return"test"},onClickAdd:function(){switch(this.$route.name){case"Home":this.$refs.deviceModal.$emit("add_device");break;case"Recipes":this.$refs.recipeModal.$emit("add_recipe");break;case"Routines":this.$refs.routineModal.$emit("add_routine");break;case"Sensors":this.$refs.sensorModal.$emit("add_sensor");break}}})},z=P,U=Object(f["a"])(z,i,o,!1,null,null,null),V=U.exports,H=function(){var e=this,A=e.$createElement,t=e._self._c||A;return t("div",[t("b-sidebar",{attrs:{id:"sidebar-1","bg-variant":"dark","text-variant":"light"}},[t("div",[t("b-button",{staticClass:"nav-button",attrs:{href:"#",to:"/"}},[e._v("Home")]),t("b-button",{staticClass:"nav-button",attrs:{href:"#",to:"/routines"}},[e._v("Routines")]),t("b-button",{staticClass:"nav-button",attrs:{href:"#",to:"/sensors"}},[e._v("Sensors")]),t("b-button",{staticClass:"nav-button",attrs:{href:"#",to:"/recipes"}},[e._v("Recipes")]),t("b-button",{staticClass:"nav-button",attrs:{href:"#",to:"/inventory"}},[e._v("Inventory")]),t("b-button",{staticClass:"nav-button",attrs:{href:"#",to:"/cameras"}},[e._v("Cameras")])],1)])],1)},q=[],F={name:"SideBar"},G=F,J=(t("5259"),Object(f["a"])(G,H,q,!1,null,"50a149e1",null)),K=J.exports,Z={name:"app",components:{AppToolbar:V,SideBar:K},data:function(){return{angle:"50",color1:"#304352",color2:"#d7d2cc"}},computed:{createBackgroundString:function(){return"linear-gradient(".concat(this.angle,"deg, ").concat(this.color1,", ").concat(this.color2,")")}}},W=Z,Y=(t("034f"),Object(f["a"])(W,r,a,!1,null,null,null)),X=Y.exports,ee=(t("d3b7"),t("3ca3"),t("ddb0"),t("8c4f")),Ae=function(){var e=this,A=e.$createElement,t=e._self._c||A;return e.devices.length>0?t("div",e._l(e.groups,(function(A,n){return t("div",{key:n},[t("div",[t("h2",{staticStyle:{color:"rgba(255, 255, 255, 0.45)","text-align":"center","border-bottom":"1px solid rgba(255, 255, 255, 0.45)"}},[e._v(" "+e._s(n))]),e._l(A,(function(A){return t("div",{key:A.id,staticStyle:{display:"inline-block","margin-left":".95%","margin-right":".95%"}},[t("app-card",{attrs:{height:10,name:A.name,category:A.category,company:A.product.company,device_type:A.product.type,img:e.getImgUrl(A),id:A.id}})],1)}))],2)])})),0):e._e()},te=[],ne=(t("159b"),function(){var e=this,A=e.$createElement,t=e._self._c||A;return"loaded"===this.state?t("div",[null!==this.dev?t("div",[t("b-card",{staticClass:"mb-2",staticStyle:{"max-width":"200px","min-width":"200px","min-height":"500px","max-height":"500px","background-color":"rgba(255, 255, 255, 0.25)","backdrop-filter":"blur(5px)"},attrs:{title:e.name}},["RGB_LED_STRIP"===e.device_type?t("div",{attrs:{align:"center"}},[t("color-picker",{attrs:{width:130,height:130},on:{"color-change":e.onRGBClick},model:{value:e.color,callback:function(A){e.color=A},expression:"color"}})],1):t("div",[t("b-card-img",{staticClass:"mb-4",attrs:{src:e.img,alt:"Image",height:"130",width:"130"}})],1),t("p",[e._v(e._s(e.category))]),t("p",[e._v(e._s(e.company)+" : "+e._s(e.device_type))]),"tp-link"===e.company?t("div",[t("toggle-button",{on:{change:e.onChangeEventHandler},model:{value:e.device_on,callback:function(A){e.device_on=A},expression:"device_on"}}),"L510E"===e.device_type?t("input",{directives:[{name:"model",rawName:"v-model",value:e.brightness,expression:"brightness"}],attrs:{type:"range",min:"1",max:"100"},domProps:{value:e.brightness},on:{change:function(A){return e.brightnessChanged()},__r:function(A){e.brightness=A.target.value}}}):e._e(),t("p",[e._v(" Status: "+e._s(this.dev.device_info.device_on?"On":"Off")+" ")])],1):e._e(),"RGB_LED_STRIP"===e.device_type?t("div",[t("b-button",{attrs:{pill:"",center:""},on:{click:e.onRGBClickVerte}},[t("verte",{attrs:{picker:"wheel",model:"rgb"},model:{value:e.colorVerte,callback:function(A){e.colorVerte=A},expression:"colorVerte"}})],1)],1):e._e(),t("div",{attrs:{slot:"footer"},slot:"footer"},[t("b-button",{staticStyle:{"background-color":"#4287f5"},attrs:{to:e.navigate()}},[e._v("Information ")]),t("b-button",{attrs:{variant:"danger"},on:{click:function(A){return e.deleteDevice()}}},[e._v("X")])],1)])],1):t("div",[t("b-card",{staticClass:"mb-2",staticStyle:{"max-width":"200px","min-width":"200px","min-height":"500px","max-height":"500px","background-color":"rgba(255, 255, 255, 0.25)","backdrop-filter":"blur(5px)"},attrs:{title:e.name}},[t("b-card-img",{staticClass:"mb-4",attrs:{src:e.img,alt:"Image",height:"130",width:"130"}}),t("p",[e._v(e._s(e.category))]),t("p",[e._v(e._s(e.company)+" : "+e._s(e.device_type))]),t("div",{staticStyle:{color:"#ff0033"}},[e._v("Could not load this device. Check the backend")])],1)],1)]):t("div",[t("h3",[e._v("Loading results...")]),t("Loading",{attrs:{active:"loading"===this.state,"is-full-page":!1}})],1)}),re=[],ae=(t("ac1f"),t("fb6a"),t("25f0"),t("1276"),t("5319"),t("9062")),ie=t.n(ae),oe=(t("e40d"),t("1e8a")),ce=t("36fc"),se=(t("bbb4"),t("17f9")),ue=t("1a69"),le=t("f206"),de={name:"app-card",components:{Loading:ie.a,ColorPicker:oe["a"],ToggleButton:le["ToggleButton"],Verte:ce["a"]},props:{name:{type:String,default:""},img:{type:String,default:""},category:{type:String,default:""},company:{type:String,default:""},device_type:{type:String,default:""},id:{type:String,default:""}},data:function(){return{device_on:!1,brightness:100,state:"loading",color:"#E17D0F",colorVerte:"",dev:{}}},methods:{onChangeEventHandler:function(e){!0===e.value?this.turnOnDevice():!1===e.value&&this.turnOffDevice()},navigate:function(){return"device/"+this.company+"/"+this.id},turnOnDevice:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function A(){var t;return regeneratorRuntime.wrap((function(A){while(1)switch(A.prev=A.next){case 0:if("tp-link"!==e.company){A.next=13;break}if("L510E"!==e.device_type){A.next=6;break}return A.next=4,ue["a"].setDeviceBrightness(e.id,e.brightness);case 4:A.next=8;break;case 6:return A.next=8,ue["a"].turnOnDevice(e.id);case 8:return A.next=10,ue["a"].fetchTapoDevice(e.id);case 10:t=A.sent,e.dev=t.device,e.device_on=e.dev.device_info.device_on;case 13:case"end":return A.stop()}}),A)})))()},onRGBClick:function(){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(this.color);e={r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)};var A={mode:"SINGLE_COLOR_RGB",red:e.r,green:e.g,blue:e.b};se["a"].commandLedStripDevice(this.id,A)},onRGBClickVerte:function(){var e=function(e,A,t){return"#"+((1<<24)+(e<<16)+(A<<8)+t).toString(16).slice(1)},A=this.colorVerte.replace(/[^\d,]/g,"").split(",");this.color=e(parseInt(A[0]),parseInt(A[1]),parseInt(A[2]))},turnOffDevice:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function A(){var t;return regeneratorRuntime.wrap((function(A){while(1)switch(A.prev=A.next){case 0:if("tp-link"!==e.company){A.next=8;break}return A.next=3,ue["a"].turnOffDevice(e.id);case 3:return A.next=5,ue["a"].fetchTapoDevice(e.id);case 5:t=A.sent,e.dev=t.device,e.device_on=e.dev.device_info.device_on;case 8:case"end":return A.stop()}}),A)})))()},deleteDevice:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function A(){return regeneratorRuntime.wrap((function(A){while(1)switch(A.prev=A.next){case 0:if("tp-link"!==e.company){A.next=3;break}return A.next=3,ue["a"].deleteTapoDevice(e.id);case 3:case"end":return A.stop()}}),A)})))()},brightnessChanged:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function A(){return regeneratorRuntime.wrap((function(A){while(1)switch(A.prev=A.next){case 0:return A.next=2,ue["a"].setDeviceBrightness(e.id,e.brightness);case 2:case"end":return A.stop()}}),A)})))()}},mounted:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function A(){var t;return regeneratorRuntime.wrap((function(A){while(1)switch(A.prev=A.next){case 0:if("tp-link"!==e.company){A.next=8;break}return A.next=3,ue["a"].fetchTapoDevice(e.id);case 3:t=A.sent,"couldn't retrieve tapo device info\n"===t?e.dev=null:(e.dev=t.device,e.device_on=e.dev.device_info.device_on),e.state="loaded",A.next=9;break;case 8:e.device_type,e.state="loaded";case 9:case"end":return A.stop()}}),A)})))()}},pe=de,me=Object(f["a"])(pe,ne,re,!1,null,null,null),fe=me.exports,ge={name:"Home",data:function(){return{}},computed:Object(c["a"])(Object(c["a"])({},Object(d["d"])("devices",{devices:function(e){return e.devices}})),{},{groups:function(){var e={};return this.devices.forEach((function(A){void 0===e[A.product.company]&&(e[A.product.company]=[]),e[A.product.company].push(A)})),e}}),methods:Object(c["a"])(Object(c["a"])({},Object(d["b"])("devices",["fetchDevices"])),{},{getImgUrl:function(e){switch(e.category){case"plug":return t("d5b7");case"light":return t("e282");case"led-strip":return t("4352")}}}),mounted:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function A(){return regeneratorRuntime.wrap((function(A){while(1)switch(A.prev=A.next){case 0:return A.next=2,e.fetchDevices();case 2:case"end":return A.stop()}}),A)})))()},components:{AppCard:fe}},ve=ge,be=(t("cccb"),Object(f["a"])(ve,Ae,te,!1,null,null,null)),he=be.exports,we=function(){var e=this,A=e.$createElement,t=e._self._c||A;return this.authenticating?t("div",[t("loading",{attrs:{active:e.authenticating,"is-full-page":!0}})],1):t("div",{staticClass:"login"},[t("div",[t("b-alert",{attrs:{variant:"danger",dismissible:""},model:{value:e.showAuthError,callback:function(A){e.showAuthError=A},expression:"showAuthError"}},[e._v(e._s(this.context.msg)+" ")]),t("b-card",{staticStyle:{"background-color":"rgba(255, 255, 255, 0.25)","margin-top":"10px"},attrs:{align:"center",title:"Login"}},[t("b-alert",{attrs:{show:!!e.error,variant:"danger"}},[e._v(e._s(e.error))]),t("b-form",{on:{submit:function(A){return A.preventDefault(),e.onSubmit(A)}}},[t("b-form-group",{attrs:{id:"usernameInput",label:"Username:","label-for":"exampleInput1"}},[t("b-form-input",{attrs:{id:"username",type:"text",required:"",placeholder:"Enter username"},model:{value:e.form.username,callback:function(A){e.$set(e.form,"username",A)},expression:"form.username"}})],1),t("b-form-group",{attrs:{id:"passwordInput",label:"Password:","label-for":"exampleInput2"}},[t("b-form-input",{attrs:{id:"password",type:"password",required:"",placeholder:"Enter password"},model:{value:e.form.password,callback:function(A){e.$set(e.form,"password",A)},expression:"form.password"}})],1),t("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Login")])],1)],1)],1)])},_e=[],Ee={name:"Login",components:{Loading:ie.a},data:function(){return{form:{username:"",password:""},showRegisterSuccessAlert:!1,showAuthError:!1,context:{msg:""},authenticating:!1}},computed:Object(c["a"])({},Object(d["d"])("auth",["error"])),methods:Object(c["a"])(Object(c["a"])(Object(c["a"])({},Object(d["b"])("auth",["login","logout"])),Object(d["c"])("auth",["isLoggedIn"])),{},{onSubmit:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function A(){var t;return regeneratorRuntime.wrap((function(A){while(1)switch(A.prev=A.next){case 0:return e.authenticating=!0,A.next=3,e.login(e.form);case 3:if(t=A.sent,e.authenticating=!1,t){A.next=9;break}return e.showAuthError=!0,e.context.msg="username/password is incorrect",A.abrupt("return");case 9:return A.next=11,e.$router.push(e.$route.query.redirect||"/");case 11:case"end":return A.stop()}}),A)})))()}})},xe=Ee,ke=Object(f["a"])(xe,we,_e,!1,null,"ecb171d4",null),Ie=ke.exports,Ce=t("4360"),Re=function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(A,t,n){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=Ce["a"].getters["auth/isLoggedIn"],a=A.matched.some((function(e){return e.meta.requiresAuth})),r||!a){e.next=4;break}return e.abrupt("return",n({name:"login",query:{redirect:A.path}}));case 4:if(!r||"login"!==A.name){e.next=6;break}return e.abrupt("return",n());case 6:return e.abrupt("return",n());case 7:case"end":return e.stop()}}),e)})));return function(A,t,n){return e.apply(this,arguments)}}();n["default"].use(ee["a"]);var Oe=[{path:"/",name:"Home",component:he,meta:{requiresAuth:!0,title:"Home"}},{path:"/device/:company/:id",name:"Device",component:function(){return t.e("chunk-6867de46").then(t.bind(null,"3d70"))},meta:{requiresAuth:!0,title:"Device"}},{path:"/recipes",name:"Recipes",component:function(){return t.e("chunk-2d0e5b37").then(t.bind(null,"9637"))},meta:{requiresAuth:!0,title:"Recipes"}},{path:"/sensors",name:"Sensors",component:function(){return t.e("chunk-2d0d0836").then(t.bind(null,"67fe"))},meta:{requiresAuth:!0,title:"Sensors"}},{path:"/routines",name:"Routines",component:function(){return t.e("chunk-2d0e2131").then(t.bind(null,"7cc2"))},meta:{requiresAuth:!0,title:"Routines"}},{path:"/recipe/:id",name:"Recipe",component:function(){return t.e("chunk-79e29ba2").then(t.bind(null,"2d11"))},meta:{requiresAuth:!0,title:"Recipe"}},{path:"/routine/:id",name:"Routine",component:function(){return t.e("chunk-d4d18b50").then(t.bind(null,"8eb4"))},meta:{requiresAuth:!0,title:"Routine"}},{path:"/inventory",name:"Inventory",component:function(){return t.e("chunk-b545e53c").then(t.bind(null,"e25f"))},meta:{requiresAuth:!0,title:"Inventory"}},{path:"/cameras",name:"Cameras",component:function(){return t.e("chunk-76fed8a9").then(t.bind(null,"b64ba"))},meta:{requiresAuth:!0,title:"Cameras"}},{path:"/login",name:"login",component:Ie,meta:{title:"Login"}}],ye=new ee["a"]({routes:Oe});ye.beforeEach(Re),ye.afterEach((function(e,A){var t=e.meta.title;document.title=t?"Home Automation - ".concat(t):"Home Automation"})),Ce["a"].watch((function(e,A){return A["auth/isLoggedIn"]}),(function(e){!e&&ye.currentRoute.matched.some((function(e){return e.meta.requiresAuth}))&&ye.push({name:"login",query:{redirect:ye.currentRoute.path}})}));var Be=ye,Se=t("5f5b"),Qe=(t("f9e3"),t("2dd8"),t("ecee")),je=t("c074"),De=t("f2d1"),Te=t("ad3d"),Le=t("aa3a"),$e=t.n(Le),Me=t("e723"),Ne=t.n(Me),Pe=t("bc3a"),ze=t.n(Pe);Qe["c"].add(je["d"],je["a"],je["b"],je["c"],De["a"],De["b"]),n["default"].component("font-awesome-icon",Te["a"]),n["default"].config.productionTip=!1,n["default"].use(Se["a"]),n["default"].use($e.a),n["default"].use(Ne.a),ze.a.defaults.headers.common["Authorization"]="Bearer ".concat(Ce["a"].getters["auth/getBearerToken"]),new n["default"]({router:Be,store:Ce["a"],render:function(e){return e(X)}}).$mount("#app")},"5ced":function(e,A,t){},"85ec":function(e,A,t){},a1d2:function(e,A,t){"use strict";var n=t("1da1"),r=(t("96cf"),t("c5fa"));A["a"]={fetchRoutines:function(){return Object(n["a"])(regeneratorRuntime.mark((function e(){var A;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(r["a"])().get("/api/v1/routines").catch((function(){return null}));case 2:return A=e.sent,e.abrupt("return",A.data);case 4:case"end":return e.stop()}}),e)})))()},addRoutine:function(e){return Object(n["a"])(regeneratorRuntime.mark((function A(){var t;return regeneratorRuntime.wrap((function(A){while(1)switch(A.prev=A.next){case 0:return A.next=2,Object(r["a"])().post("/api/v1/routines",e).catch((function(){return null}));case 2:return t=A.sent,A.abrupt("return",t.data);case 4:case"end":return A.stop()}}),A)})))()},updateRoutine:function(e,A){return Object(n["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(r["a"])().put("/api/v1/routines/"+e,A).catch((function(){return null}));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()},fetchRoutine:function(e){return Object(n["a"])(regeneratorRuntime.mark((function A(){var t;return regeneratorRuntime.wrap((function(A){while(1)switch(A.prev=A.next){case 0:return A.next=2,Object(r["a"])().get("/api/v1/routines/"+e).catch((function(){return null}));case 2:return t=A.sent,A.abrupt("return",t.data);case 4:case"end":return A.stop()}}),A)})))()},deleteRoutine:function(e){return Object(n["a"])(regeneratorRuntime.mark((function A(){var t;return regeneratorRuntime.wrap((function(A){while(1)switch(A.prev=A.next){case 0:return A.next=2,Object(r["a"])().delete("/api/v1/routines/"+e).catch((function(){return null}));case 2:return t=A.sent,A.abrupt("return",t.data);case 4:case"end":return A.stop()}}),A)})))()},fetchLogs:function(){return Object(n["a"])(regeneratorRuntime.mark((function e(){var A;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(r["a"])().get("/api/v1/routines/logs").catch((function(){return null}));case 2:return A=e.sent,e.abrupt("return",A.data);case 4:case"end":return e.stop()}}),e)})))()},fetchLogsForId:function(e){return Object(n["a"])(regeneratorRuntime.mark((function A(){var t;return regeneratorRuntime.wrap((function(A){while(1)switch(A.prev=A.next){case 0:return A.next=2,Object(r["a"])().get("/api/v1/routines/logs/"+e).catch((function(){return null}));case 2:return t=A.sent,A.abrupt("return",t.data);case 4:case"end":return A.stop()}}),A)})))()}}},be85:function(e,A,t){"use strict";var n=t("1da1"),r=(t("96cf"),t("c5fa"));A["a"]={fetchRecipes:function(){return Object(n["a"])(regeneratorRuntime.mark((function e(){var A;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(r["a"])().get("/api/v1/recipes").catch((function(){return null}));case 2:return A=e.sent,e.abrupt("return",A.data);case 4:case"end":return e.stop()}}),e)})))()},addRecipe:function(e){return Object(n["a"])(regeneratorRuntime.mark((function A(){var t;return regeneratorRuntime.wrap((function(A){while(1)switch(A.prev=A.next){case 0:return A.next=2,Object(r["a"])().post("/api/v1/recipes",e).catch((function(){return null}));case 2:return t=A.sent,A.abrupt("return",t.data);case 4:case"end":return A.stop()}}),A)})))()},fetchRecipe:function(e){return Object(n["a"])(regeneratorRuntime.mark((function A(){var t;return regeneratorRuntime.wrap((function(A){while(1)switch(A.prev=A.next){case 0:return A.next=2,Object(r["a"])().get("/api/v1/recipes/"+e).catch((function(){return null}));case 2:return t=A.sent,A.abrupt("return",t.data);case 4:case"end":return A.stop()}}),A)})))()},deleteRecipe:function(e){return Object(n["a"])(regeneratorRuntime.mark((function A(){var t;return regeneratorRuntime.wrap((function(A){while(1)switch(A.prev=A.next){case 0:return A.next=2,Object(r["a"])().delete("/api/v1/recipes/"+e).catch((function(){return null}));case 2:return t=A.sent,A.abrupt("return",t.data);case 4:case"end":return A.stop()}}),A)})))()}}},c5fa:function(e,A,t){"use strict";var n=t("1da1"),r=t("5530"),a=(t("96cf"),t("bc3a")),i=t.n(a),o=t("4360");A["a"]=function(){var e=i.a.create({baseURL:"https:///",withCredentials:!0,headers:Object(r["a"])({},o["a"].getters["auth/getBearerToken"]&&{Authorization:"Bearer ".concat(o["a"].getters["auth/getBearerToken"])})});return e.interceptors.response.use(void 0,function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(A){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.error(A),401===A.response.status&&o["a"].dispatch("auth/refreshToken"),e.abrupt("return",A.response);case 3:case"end":return e.stop()}}),e)})));return function(A){return e.apply(this,arguments)}}()),e}},cad0:function(e,A,t){},cccb:function(e,A,t){"use strict";t("5ced")},d1da:function(e,A){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABAAAAAQACAQAAADVFOMIAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAHdElNRQfiBgsLETcoKAt2AAALxklEQVR42u3ZsRGDMBBE0cVDRCUoNuW4PJcDMVSi2CU4cHIW73VwK4I/QwIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPDdZAIoaEkb6Joz3ZNCNbMJoKCWfaBrthyeFKp5mAAABAAAIAAAAAEAAAgAAEAAAAACAAAQAACAAAAABAAAIAAAAAEAAAgAAEAAAAACAAAQAACAAAAABAAACAAAQAAAAAIAABAAAIAAAAAEAAAgAAAAAQAACAAAQAAAAAIAABAAAIAAAAAEAAAgAAAAAQAACAAAEAAAgAAAAAQAACAAAAABAAAIAABAAAAAAgAAEAAAgAAAAAQAACAAAAABAAAIAABAAAAAAgAAEAAAIAAAAAEAAAgAAEAAAAACAAAQAACAAAAABAAAIAAAAAEAAAgAAEAAAAACAAAQAACAAAAABAAAIAAAQAAAAAIAABAAAIAAAAAEAAAgAAAAAQAACAAAQAAAAAIAABAAAIAAAAAEAAAgAAAAAQAACAAAQAAAgAAwAQAIAABAAAAAAgAAEAAAgAAAAAQAACAAAAABAAAIAABAAAAAAgAAEAAAgAAAAAQAACAAAAABAAAIAAAQAACAAAAABAAAIAAAAAEAAAgAAEAAAAACAAAQAACAAAAABAAAIAAAAAEAAAgAAEAAAAACAAAQAAAgAAAAAQAACAAAQAAAAAIAABAAAIAAAAAEAAAgAAAAAQAACAAAQAAAAAIAABAAAIAAAAAEAAAgAABAAAAAAgAAEAAAgAAAAAQAACAAAAABAAAIAABAAAAAAgAAEAAAgAAAAAQAACAAAAABAAAIAABAAACAAAAABAAAIAAAAAEAAAgAAEAAAAACAAAQAACAAAAABAAAIAAAAAEAAAgAAEAAAAACAAAQAACAAAAAAWACABAAAIAAAAAEAAAgAAAAAQAACAAAQAAAAAIAABAAAIAAAAAEAAAgAAAAAQAACAAAQAAAAAIAABAAACAAAAABAAAIAABAAAAAAgAAEAAAgAAAAAQAACAAAAABAAAIAABAAAAAAgAAEAAAgAAAAAQAACAAAEAAAAACAAAQAACAAAAABAAAIAAAAAEAAAgAAEAAAAACAAAQAACAAAAABAAAIAAAAAEAAAgAAEAAAIAAAAAEAAAgAAAAAQAACAAAQAAAAAIAABAAAIAAAAAEAAAgAAAAAQAACAAAQAAAAAIAABAAAIAAAAABAAAIAABAAAAAAgAAEAAAgAAAAAQAACAAAAABAAAIAABAAAAAAgAAEAAAwA9mExS1pBnhxlbXMIwz3QgVTSYo6pndCMAAthxGqMgvAAAQAACAAAAABAAAIAAAAAEAAAgAAEAAAAACAAAQAACAAAAABAAAIAAAAAEAAAgAAEAAAAACAAAQAAAgAAAAAQAACAAAQAAAAAIAABAAAIAAAAAEAAAgAAAAAQAACAAAQAAAAAIAABAAAIAAAAAEAAAgAABAAAAAAgAAEAAAgAAAAAQAACAAAAABAAAIAABAAAAAAgAAEAAAgAAAAAQAACAAAAABAAAIAABAAACAAAAABAAAIAAAAAEAAAgAAEAAAAACAAAQAACAAAAABAAAIAAAAAEAAAgAAEAAAAACAAAQAACAAAAAAQAACAAAQAAAAAIAABAAAIAAAAAEAAAgAAAAAQAACAAAQAAAAAIAABAAAIAAAAAEAAAgAAAAAQAACAAAEAAAgAAAAAQAACAAAAABAAAIAABAAAAAAgAAEAAAgAAAAAQAACAAAAABAAAIAADgq8kERS1pRrixNe+Brnnl8qQ3dqYboaLZBEX1HEZgEJevGerxCwAABAAAIAAAAAEAAAgAAEAAAAACAAAQAACAAAAABAAAIAAAAAEAAAgAAEAAAAACAAAQAACAAAAABAAACAAAQAAAAAIAABAAAIAAAAAEAAAgAAAAAQAACAAAQAAAAAIAABAAAIAAAAAEAAAgAAAAAQAACAAAEAAAgAAAAAQAACAAAAABAAAIAABAAAAAAgAAEAAAgAAAAAQAACAAAAABAAAIAABAAAAAAgAAEAAAIAAAAAEAAAgAAEAAAAACAAAQAACAAAAABAAAIAAAAAEAAAgAAEAAAAACAAAQAACAAAAABAAAIAAAQAAAAAIAABAAAIAAAAAEAAAgAAAAAQAACAAAQAAAAAIAABAAAIAAAAAEAAAgAAAAAQAACAAAQAAAAAIAAAQAACAAAAABAAAIAABAAAAAAgAAEAAAgAAAAAQAACAAAAABAAAIAABAAAAAAgAAEAAAgAAAAAQAAAgAAEAAAAACAAAQAACAAAAABAAAIAAAAAEAAAgAAEAAAAACAAAQAACAAAAABAAAIAAAAAEAAAgAABAAAIAAAAAEAAAgAAAAAQAACAAAQAAAAAIAABAAAIAAAAAEAAAgAAAAAQAACAAAQAAAAAIAABAAACAAAAABAAAIAABAAAAAAgAAEAAAgAAAAAQAACAAAAABAAAIAABAAAAAAgAAEAAAgAAAAAQAACAAAEAAAAACAAAQAACAAAAABAAAIAAAAAEAAAgAAEAAAAACAAAQAACAAAAABAAAIAAAAAEAAAgAAEAAAAACAAAEAAAgAAAAAQAACAAAQAAAAAIAABAAAIAAAAAEAAAgAAAAAQAACAAAQAAAAAIAABAAAIAAAAAEAAAIAABAAAAAAgAAEAAAgAAAAAQAACAAAAABAAAIAABAAAAAAgAAEAAAgAAAAAQAACAAAAABAAAIAAAQAACAAAAABAAAIAAAAAEAAAgAAEAAAAACAAAQAACAAAAABAAAIAAAAAEAAAgAAEAAAAACAAAQAAAgAAAAAQAACAAAQAAAAAIAABAAAIAAAAAEAAAgAAAAAQAACAAAQAAAAAIAABAAAIAAAAAEAAAgAABAAAAAAgAAEAAAgAAAAAQAACAAAAABAAAIAABAAAAAAgAAEAAAgAAAAAQAAPCLyQRQ0JI20DVnuicFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAf/QBrcIWgdB708UAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDYtMTFUMTE6MTc6NTUrMDA6MDAOO/WHAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTA2LTExVDExOjE3OjU1KzAwOjAwf2ZNOwAAAABJRU5ErkJggg=="},d5b7:function(e,A,t){e.exports=t.p+"img/smart_plug_icon.0bf5980e.png"},e282:function(e,A,t){e.exports=t.p+"img/light_icon.38a191eb.png"}});
//# sourceMappingURL=app.15631874.js.map